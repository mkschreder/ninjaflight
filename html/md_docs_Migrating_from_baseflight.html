<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.7"/>
<title>NinjaFlight: Migrating from baseflight</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">NinjaFlight
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.7 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('md_docs_Migrating_from_baseflight.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Migrating from baseflight </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h2>Procedure</h2>
<p><b>First ensure your main flight battery is disconnected or your props are off!</b></p>
<p>Before flashing with cleanflight, dump your configs for each profile via the CLI and save to a text file.</p>
<p>``` profile 0 dump profile 1 dump profile 2 dump ```</p>
<p>Then after flashing cleanflight paste the output from each dump command into the cli, switching profiles as you go.</p>
<p>You'll note that some commands are not recognised by cleanflight when you do this. For the commands that are not recognised look up the new configuration options and choose appropriate values for the settings. See below for a list of differences.</p>
<p>Once you've done this for the first profile, save the config. Then verify your config is OK, e.g. features serial ports, etc. When you've verified the first profile is OK repeat for the other profiles.</p>
<p>It's also advisable to take screenshots of your AUX settings from baseflight configurator and then after re-applying the settings verify your aux config is correct - aux settings are not backwards compatible.</p>
<h2>CLI command differences from baseflight</h2>
<p>In general all CLI commands use underscore characters to separate words for consistency. In baseflight the format of CLI commands is somewhat haphazard.</p>
<h3>gps_baudrate</h3>
<p>reason: new serial port configuration.</p>
<p>See <code>serial</code> command.</p>
<h3>gps_type</h3>
<p>reason: renamed to <code>gps_provider</code> for consistency</p>
<h3>serialrx_type</h3>
<p>reason: renamed to <code>serialrx_provider</code> for consistency</p>
<h3>rssi_aux_channel</h3>
<p>reason: renamed to <code>rssi_channel</code> for improved functionality</p>
<p>Cleanflight supports using any RX channel for rssi. Baseflight only supports AUX1 to 4.</p>
<p>In Cleanflight a value of 0 disables the feature, a higher value indicates the channel number to read RSSI information from.</p>
<p>Example: to use RSSI on AUX1 in Cleanflight use <code>set rssi_channel = 5</code>, since 5 is the first AUX channel (this is equivalent to <code>set rssi_aux_channel = 1</code> in Baseflight).</p>
<h3>failsafe_detect_threshold</h3>
<p>reason: improved functionality</p>
<p>See <code>rx_min_usec</code> and <code>rx_max_usec</code> in Failsafe documentation.</p>
<h3>emfavoidance</h3>
<p>reason: renamed to <code>emf_avoidance</code> for consistency</p>
<h3>yawrate</h3>
<p>reason: renamed to <code>yaw_rate</code> for consistency</p>
<h3>yawdeadband</h3>
<p>reason: renamed to <code>yaw_deadband</code> for consistency</p>
<h3>midrc</h3>
<p>reason: renamed to <code>mid_rc</code> for consistency</p>
<h3>mincheck</h3>
<p>reason: renamed to <code>min_check</code> for consistency</p>
<h3>maxcheck</h3>
<p>reason: renamed to <code>max_check</code> for consistency</p>
<h3>minthrottle</h3>
<p>reason: renamed to <code>min_throttle</code> for consistency</p>
<h3>maxthrottle</h3>
<p>reason: renamed to <code>max_throttle</code> for consistency</p>
<h3>mincommand</h3>
<p>reason: renamed to <code>min_command</code> for consistency</p>
<h3>deadband3d_low</h3>
<p>reason: renamed to <code>3d_deadband_low</code> for consistency</p>
<h3>deadband3d_high</h3>
<p>reason: renamed to <code>3d_deadband_high</code> for consistency</p>
<h3>deadband3d_throttle</h3>
<p>reason: renamed to <code>3d_deadband_throttle</code> for consistency</p>
<h3>neutral3d</h3>
<p>reason: renamed to <code>3d_neutral</code> for consistency</p>
<h3>alt_hold_throttle_neutral</h3>
<p>reason: renamed to <code>alt_hold_deadband</code> for consistency</p>
<h3>gimbal_flags</h3>
<p>reason: seperation of features.</p>
<p>see <code>gimbal_mode</code> and <code>CHANNEL_FORWARDING</code> feature </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Mon Dec 12 2016 15:48:58 for NinjaFlight by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.7 </li>
  </ul>
</div>
</body>
</html>
