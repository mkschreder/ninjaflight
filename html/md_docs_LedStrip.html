<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.7"/>
<title>NinjaFlight: LED Strip</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">NinjaFlight
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.7 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('md_docs_LedStrip.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">LED Strip </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Cleanflight supports the use of addressable LED strips. Addressable LED strips allow each LED in the strip to be programmed with a unique and independant color. This is far more advanced than the normal RGB strips which require that all the LEDs in the strip show the same color.</p>
<p>Addressable LED strips can be used to show information from the flight controller system, the current implementation supports the following:</p>
<ul>
<li>Up to 32 LEDs.</li>
<li>Indicators showing pitch/roll stick positions.</li>
<li>Heading/Orientation lights.</li>
<li>Flight mode specific color schemes.</li>
<li>Low battery warning.</li>
<li>AUX operated on/off switch.</li>
<li>GPS state.</li>
<li>RSSI level.</li>
</ul>
<p>Support for more than 32 LEDs is possible, it just requires additional development.</p>
<h2>Supported hardware</h2>
<p>Only strips of 32 WS2811/WS2812 LEDs are supported currently. If the strip is longer than 32 LEDs it does not matter, but only the first 32 are used.</p>
<p>WS2812 LEDs require an 800khz signal and precise timings and thus requires the use of a dedicated hardware timer.</p>
<p>Note: Not all WS2812 ICs use the same timings, some batches use different timings.</p>
<p>It could be possible to be able to specify the timings required via CLI if users request it.</p>
<h3>Tested Hardware</h3>
<ul>
<li><a href="https://www.adafruit.com/products/2226">Adafruit NeoPixel Jewel 7</a> (preliminary testing)<ul>
<li>Measured current consumption in all white mode ~ 350 mA.</li>
<li>Fits well under motors on mini 250 quads.</li>
</ul>
</li>
<li><a href="https://www.adafruit.com/products/1426">Adafruit NeoPixel Stick</a> (works well)<ul>
<li>Measured current consumption in all white mode ~ 350 mA.</li>
</ul>
</li>
</ul>
<h2>Connections</h2>
<p>WS2812 LED strips generally require a single data line, 5V and GND.</p>
<p>WS2812 LEDs on full brightness can consume quite a bit of current. It is recommended to verify the current draw and ensure your supply can cope with the load. On a multirotor that uses multiple BEC ESC's you can try use a different BEC to the one the FC uses. e.g. ESC1/BEC1 -&gt; FC, ESC2/BEC2 -&gt; LED strip. It's also possible to power one half of the strip from one BEC and the other half from another BEC. Just ensure that the GROUND is the same for all BEC outputs and LEDs.</p>
<table class="doxtable">
<tr>
<th>Target </th><th>Pin </th><th>LED Strip </th><th>Signal  </th></tr>
<tr>
<td>Naze/Olimexino </td><td>RC5 </td><td>Data In </td><td>PA6 </td></tr>
<tr>
<td>CC3D </td><td>RCO5 </td><td>Data In </td><td>PB4 </td></tr>
<tr>
<td>ChebuzzF3/F3Discovery </td><td>PB8 </td><td>Data In </td><td>PB8 </td></tr>
<tr>
<td>Sparky </td><td>PWM5 </td><td>Data In </td><td>PA6 </td></tr>
</table>
<p>Since RC5 is also used for SoftSerial on the Naze/Olimexino it means that you cannot use SoftSerial and led strips at the same time. Additionally, since RC5 is also used for Parallel PWM RC input on both the Naze, Chebuzz and STM32F3Discovery targets, led strips can not be used at the same time at Parallel PWM.</p>
<p>If you have LEDs that are intermittent, flicker or show the wrong colors then drop the VIN to less than 4.7v, e.g. by using an inline diode on the VIN to the LED strip. The problem occurs because of the difference in voltage between the data signal and the power signal. The WS2811 LED's require the data signal (Din) to be between 0.3 * Vin (Max) and 0.7 * VIN (Min) to register valid logic low/high signals. The LED pin on the CPU will always be between 0v to ~3.3v, so the Vin should be 4.7v (3.3v / 0.7 = 4.71v). Some LEDs are more tolerant of this than others.</p>
<p>The datasheet can be found here: <a href="http://www.adafruit.com/datasheets/WS2812.pdf">http://www.adafruit.com/datasheets/WS2812.pdf</a></p>
<h2>Configuration</h2>
<p>The led strip feature can be configured via the GUI.</p>
<p>GUI: Enable the Led Strip feature via the GUI under setup.</p>
<p>Configure the leds from the Led Strip tab in the cleanflight GUI. First setup how the led's are laid out so that you can visualize it later as you configure and so the flight controller knows how many led's there are available.</p>
<p>There is a step by step guide on how to use the GUI to configure the Led Strip feature using the GUI <a href="http://blog.oscarliang.net/setup-rgb-led-cleanflight/">http://blog.oscarliang.net/setup-rgb-led-cleanflight/</a> which was published early 2015 by Oscar Liang which may or may not be up-to-date by the time you read this.</p>
<p>CLI: Enable the <code>LED_STRIP</code> feature via the cli:</p>
<p>``` feature LED_STRIP ```</p>
<p>If you enable LED_STRIP feature and the feature is turned off again after a reboot then check your config does not conflict with other features, as above.</p>
<p>Configure the LEDs using the <code>led</code> command.</p>
<p>The <code>led</code> command takes either zero or two arguments - an zero-based led number and a sequence which indicates pair of coordinates, direction flags and mode flags and a color.</p>
<p>If used with zero arguments it prints out the led configuration which can be copied for future reference.</p>
<p>Each led is configured using the following template: <code>x,y:ddd:mmm:cc</code></p>
<p><code>x</code> and <code>y</code> are grid coordinates of a 0 based 16x16 grid, north west is 0,0, south east is 15,15 <code>ddd</code> specifies the directions, since an led can face in any direction it can have multiple directions. Directions are:</p>
<p><code>N</code> - North <code>E</code> - East <code>S</code> - South <code>W</code> - West <code>U</code> - Up <code>D</code> - Down</p>
<p>For instance, an LED that faces South-east at a 45 degree downwards angle could be configured as <code>SED</code>.</p>
<p>Note: It is perfectly possible to configure an LED to have all directions <code>NESWUD</code> but probably doesn't make sense.</p>
<p><code>mmm</code> specifies the modes that should be applied an LED. Modes are:</p>
<ul>
<li><code>W</code> - <code>W</code>warnings.</li>
<li><code>F</code> - <code>F</code>light mode &amp; Orientation</li>
<li><code>I</code> - <code>I</code>ndicator.</li>
<li><code>A</code> - <code>A</code>rmed state.</li>
<li><code>T</code> - <code>T</code>hrust state.</li>
<li><code>R</code> - <code>R</code>ing thrust state.</li>
<li><code>C</code> - <code>C</code>olor.</li>
<li><code>G</code> - <code>G</code>PS state.</li>
<li><code>S</code> - R<code>S</code>SSI level.</li>
<li><code>B</code> - <code>B</code>link (flash twice) mode.</li>
</ul>
<p><code>cc</code> specifies the color number (0 based index).</p>
<p>Example:</p>
<p>``` led 0 0,15:SD:IAW:0 led 1 15,0:ND:IAW:0 led 2 0,0:ND:IAW:0 led 3 0,15:SD:IAW:0 led 4 7,7::C:1 led 5 8,8::C:2 led 6 8,9::B:1 ```</p>
<p>To erase an led, and to mark the end of the chain, use <code>0,0::</code> as the second argument, like this:</p>
<p>``` led 4 0,0::: ```</p>
<p>It is best to erase all LEDs that you do not have connected.</p>
<h3>Modes</h3>
<h4>Warning</h4>
<p>This mode simply uses the LEDs to flash when warnings occur.</p>
<table class="doxtable">
<tr>
<th>Warning </th><th>LED Pattern </th><th>Notes  </th></tr>
<tr>
<td>Arm-lock enabled </td><td>flash between green and off </td><td>occurs calibration or when unarmed and the aircraft is tilted too much </td></tr>
<tr>
<td>Low Battery </td><td>flash red and off </td><td>battery monitoring must be enabled. May trigger temporarily under high-throttle due to voltage drop </td></tr>
<tr>
<td>Failsafe </td><td>flash between light blue and yellow </td><td>Failsafe must be enabled </td></tr>
</table>
<p>Flash patterns appear in order, so that it's clear which warnings are enabled.</p>
<h4>GPS state</h4>
<p>This mode shows the GPS state and satellite count.</p>
<p>No fix = red LED 3D fix = green LED</p>
<p>The LEDs will blink as many times as the satellite count, then pause and start again.</p>
<h4>RSSI level</h4>
<p>This mode fades the LED current LED color to the previous/next color in the HSB color space depending on RSSI level. When the RSSI level is at the mean value the color is unaffected, thus it can be mixed with orientation colors to indicate orientation and RSSI at the same time. RSSI should normally be combined with Color or Mode/Orientation.</p>
<h4>Blink</h4>
<p>This mode blinks the current LED, alternatively from black to the selected color.</p>
<h4>Flight Mode &amp; Orientation</h4>
<p>This mode shows the flight mode and orientation.</p>
<p>When flight modes are active then the LEDs are updated to show different colors depending on the mode, placement on the grid and direction.</p>
<p>LEDs are set in a specific order:</p><ul>
<li>LEDs that marked as facing up or down.</li>
<li>LEDs that marked as facing west or east AND are on the west or east side of the grid.</li>
<li>LEDs that marked as facing north or south AND are on the north or south side of the grid.</li>
</ul>
<p>That is, south facing LEDs have priority.</p>
<p>The mapping between modes led placement and colors is currently fixed and cannot be changed.</p>
<h4>Indicator</h4>
<p>This mode flashes LEDs that correspond to roll and pitch stick positions. i.e. they indicate the direction the craft is going to turn.</p>
<table class="doxtable">
<tr>
<th>Mode </th><th>Direction </th><th>LED Color  </th></tr>
<tr>
<td>Orientation </td><td>North </td><td>WHITE </td></tr>
<tr>
<td>Orientation </td><td>East </td><td>DARK VIOLET </td></tr>
<tr>
<td>Orientation </td><td>South </td><td>RED </td></tr>
<tr>
<td>Orientation </td><td>West </td><td>DEEP PINK </td></tr>
<tr>
<td>Orientation </td><td>Up </td><td>BLUE </td></tr>
<tr>
<td>Orientation </td><td>Down </td><td>ORANGE </td></tr>
<tr>
<td></td><td></td><td></td></tr>
<tr>
<td>Head Free </td><td>North </td><td>LIME GREEN </td></tr>
<tr>
<td>Head Free </td><td>East </td><td>DARK VIOLET </td></tr>
<tr>
<td>Head Free </td><td>South </td><td>ORANGE </td></tr>
<tr>
<td>Head Free </td><td>West </td><td>DEEP PINK </td></tr>
<tr>
<td>Head Free </td><td>Up </td><td>BLUE </td></tr>
<tr>
<td>Head Free </td><td>Down </td><td>ORANGE </td></tr>
<tr>
<td></td><td></td><td></td></tr>
<tr>
<td>Horizon </td><td>North </td><td>BLUE </td></tr>
<tr>
<td>Horizon </td><td>East </td><td>DARK VIOLET </td></tr>
<tr>
<td>Horizon </td><td>South </td><td>YELLOW </td></tr>
<tr>
<td>Horizon </td><td>West </td><td>DEEP PINK </td></tr>
<tr>
<td>Horizon </td><td>Up </td><td>BLUE </td></tr>
<tr>
<td>Horizon </td><td>Down </td><td>ORANGE </td></tr>
<tr>
<td></td><td></td><td></td></tr>
<tr>
<td>Angle </td><td>North </td><td>CYAN </td></tr>
<tr>
<td>Angle </td><td>East </td><td>DARK VIOLET </td></tr>
<tr>
<td>Angle </td><td>South </td><td>YELLOW </td></tr>
<tr>
<td>Angle </td><td>West </td><td>DEEP PINK </td></tr>
<tr>
<td>Angle </td><td>Up </td><td>BLUE </td></tr>
<tr>
<td>Angle </td><td>Down </td><td>ORANGE </td></tr>
<tr>
<td></td><td></td><td></td></tr>
<tr>
<td>Mag </td><td>North </td><td>MINT GREEN </td></tr>
<tr>
<td>Mag </td><td>East </td><td>DARK VIOLET </td></tr>
<tr>
<td>Mag </td><td>South </td><td>ORANGE </td></tr>
<tr>
<td>Mag </td><td>West </td><td>DEEP PINK </td></tr>
<tr>
<td>Mag </td><td>Up </td><td>BLUE </td></tr>
<tr>
<td>Mag </td><td>Down </td><td>ORANGE </td></tr>
<tr>
<td></td><td></td><td></td></tr>
<tr>
<td>Baro </td><td>North </td><td>LIGHT BLUE </td></tr>
<tr>
<td>Baro </td><td>East </td><td>DARK VIOLET </td></tr>
<tr>
<td>Baro </td><td>South </td><td>RED </td></tr>
<tr>
<td>Baro </td><td>West </td><td>DEEP PINK </td></tr>
<tr>
<td>Baro </td><td>Up </td><td>BLUE </td></tr>
<tr>
<td>Baro </td><td>Down </td><td>ORANGE </td></tr>
</table>
<h4>Armed state</h4>
<p>This mode toggles LEDs between green and blue when disarmed and armed, respectively.</p>
<p>Note: Armed State cannot be used with Flight Mode.</p>
<h4>Thrust state</h4>
<p>This mode fades the LED current LED color to the previous/next color in the HSB color space depending on throttle stick position. When the throttle is in the middle position the color is unaffected, thus it can be mixed with orientation colors to indicate orientation and throttle at the same time. Thrust should normally be combined with Color or Mode/Orientation.</p>
<h4>Thrust ring state</h4>
<p>This mode is allows you to use one or multiple led rings (e.g. NeoPixel ring) for an afterburner effect. The light pattern rotates clockwise as throttle increases.</p>
<p>A better effect is acheived when LEDs configured for thrust ring have no other functions.</p>
<p>LED direction and X/Y positions are irrelevant for thrust ring LED state. The order of the LEDs that have the state determines how the LED behaves.</p>
<p>Each LED of the ring can be a different color. The color can be selected between the 16 colors availables.</p>
<p>For example, led 0 is set as a <code>R</code>ing thrust state led in color 13 as follow.</p>
<p>``` led 0 2,2::R:13 ```</p>
<p>LED strips and rings can be combined.</p>
<h4>Solid Color</h4>
<p>The mode allows you to set an LED to be permanently on and set to a specific color.</p>
<p>x,y position and directions are ignored when using this mode.</p>
<p>Other modes will override or combine with the color mode.</p>
<p>For example, to set led 0 to always use color 10 you would issue this command.</p>
<p>``` led 0 0,0::C:10 ```</p>
<h3>Colors</h3>
<p>Colors can be configured using the cli <code>color</code> command.</p>
<p>The <code>color</code> command takes either zero or two arguments - an zero-based color number and a sequence which indicates pair of hue, saturation and value (HSV).</p>
<p>See <a href="http://en.wikipedia.org/wiki/HSL_and_HSV">http://en.wikipedia.org/wiki/HSL_and_HSV</a></p>
<p>If used with zero arguments it prints out the color configuration which can be copied for future reference.</p>
<p>The default color configuration is as follows:</p>
<table class="doxtable">
<tr>
<th>Index </th><th>Color  </th></tr>
<tr>
<td>0 </td><td>black </td></tr>
<tr>
<td>1 </td><td>white </td></tr>
<tr>
<td>2 </td><td>red </td></tr>
<tr>
<td>3 </td><td>orange </td></tr>
<tr>
<td>4 </td><td>yellow </td></tr>
<tr>
<td>5 </td><td>lime green </td></tr>
<tr>
<td>6 </td><td>green </td></tr>
<tr>
<td>7 </td><td>mint green </td></tr>
<tr>
<td>8 </td><td>cyan </td></tr>
<tr>
<td>9 </td><td>light blue </td></tr>
<tr>
<td>10 </td><td>blue </td></tr>
<tr>
<td>11 </td><td>dark violet </td></tr>
<tr>
<td>12 </td><td>magenta </td></tr>
<tr>
<td>13 </td><td>deep pink </td></tr>
<tr>
<td>14 </td><td>black </td></tr>
<tr>
<td>15 </td><td>black </td></tr>
</table>
<p>``` color 0 0,0,0 color 1 0,255,255 color 2 0,0,255 color 3 30,0,255 color 4 60,0,255 color 5 90,0,255 color 6 120,0,255 color 7 150,0,255 color 8 180,0,255 color 9 210,0,255 color 10 240,0,255 color 11 270,0,255 color 12 300,0,255 color 13 330,0,255 color 14 0,0,0 color 15 0,0,0 ```</p>
<h3>Mode Colors Assignement</h3>
<p>Mode Colors can be configured using the cli <code>mode_color</code> command.</p>
<ul>
<li>No arguments: lists all mode colors</li>
<li>arguments: mode, function, color</li>
</ul>
<p>First 6 groups of ModeIndexes are :</p>
<table class="doxtable">
<tr>
<th>mode </th><th>name  </th></tr>
<tr>
<td>0 </td><td>orientation </td></tr>
<tr>
<td>1 </td><td>headfree </td></tr>
<tr>
<td>2 </td><td>horizon </td></tr>
<tr>
<td>3 </td><td>angle </td></tr>
<tr>
<td>4 </td><td>mag </td></tr>
<tr>
<td>5 </td><td>baro </td></tr>
<tr>
<td>6 </td><td>special </td></tr>
</table>
<p>Modes 0 to 5 functions:</p>
<table class="doxtable">
<tr>
<th>function </th><th>name  </th></tr>
<tr>
<td>0 </td><td>north </td></tr>
<tr>
<td>1 </td><td>east </td></tr>
<tr>
<td>2 </td><td>south </td></tr>
<tr>
<td>3 </td><td>west </td></tr>
<tr>
<td>4 </td><td>up </td></tr>
<tr>
<td>5 </td><td>down </td></tr>
</table>
<p>Mode 6 use these functions:</p>
<table class="doxtable">
<tr>
<th>function </th><th>name  </th></tr>
<tr>
<td>0 </td><td>disarmed </td></tr>
<tr>
<td>1 </td><td>armed </td></tr>
<tr>
<td>2 </td><td>animation </td></tr>
<tr>
<td>3 </td><td>background </td></tr>
<tr>
<td>4 </td><td>blink background </td></tr>
<tr>
<td>5 </td><td>gps: no satellites </td></tr>
<tr>
<td>6 </td><td>gps: no fix </td></tr>
<tr>
<td>7 </td><td>gps: 3D fix </td></tr>
</table>
<p>The ColorIndex is picked from the colors array ("palette").</p>
<p>Examples (using the default colors):</p>
<ul>
<li>set armed color to red: <code>mode_color 6 1 2</code></li>
<li>set disarmed color to yellow: <code>mode_color 6 0 4</code></li>
<li>set Headfree mode 'south' to Cyan: <code>mode_color 1 2 8</code></li>
</ul>
<h2>Positioning</h2>
<p>Cut the strip into sections as per diagrams below. When the strips are cut ensure you reconnect each output to each input with cable where the break is made. e.g. connect 5V out to 5V in, GND to GND and Data Out to Data In.</p>
<p>Orientation is when viewed with the front of the aircraft facing away from you and viewed from above.</p>
<h3>Example 12 LED config</h3>
<p>The default configuration is as follows ``` led 0 15,15:ES:IA:0 led 1 15,8:E:WF:0 led 2 15,7:E:WF:0 led 3 15,0:NE:IA:0 led 4 8,0:N:F:0 led 5 7,0:N:F:0 led 6 0,0:NW:IA:0 led 7 0,7:W:WF:0 led 8 0,8:W:WF:0 led 9 0,15:SW:IA:0 led 10 7,15:S:WF:0 led 11 8,15:S:WF:0 led 12 7,7:U:WF:0 led 13 8,7:U:WF:0 led 14 7,8:D:WF:0 led 15 8,8:D:WF:0 led 16 8,9::R:3 led 17 9,10::R:3 led 18 10,11::R:3 led 19 10,12::R:3 led 20 9,13::R:3 led 21 8,14::R:3 led 22 7,14::R:3 led 23 6,13::R:3 led 24 5,12::R:3 led 25 5,11::R:3 led 26 6,10::R:3 led 27 7,9::R:3 led 28 0,0:::0 led 29 0,0:::0 led 30 0,0:::0 led 31 0,0:::0 ```</p>
<p>Which translates into the following positions:</p>
<p>``` 6 3 \ / \ 5-4 / \ FRONT / 7,8 | 12-15 | 1,2 / BACK \ / 10,11 \ / \ 9 0 RING 16-27 ```</p>
<p>LEDs 0,3,6 and 9 should be placed underneath the quad, facing downwards. LEDs 1-2, 4-5, 7-8 and 10-11 should be positioned so the face east/north/west/south, respectively. LEDs 12-13 should be placed facing down, in the middle LEDs 14-15 should be placed facing up, in the middle LEDs 16-17 should be placed in a ring and positioned at the rear facing south.</p>
<p>This is the default so that if you don't want to place LEDs top and bottom in the middle just connect the first 12 LEDs.</p>
<h3>Example 16 LED config</h3>
<p>``` led 0 15,15:SD:IA:0 led 1 8,8:E:FW:0 led 2 8,7:E:FW:0 led 3 15,0:ND:IA:0 led 4 7,7:N:FW:0 led 5 8,7:N:FW:0 led 6 0,0:ND:IA:0 led 7 7,7:W:FW:0 led 8 7,8:W:FW:0 led 9 0,15:SD:IA:0 led 10 7,8:S:FW:0 led 11 8,8:S:FW:0 led 12 7,7:D:FW:0 led 13 8,7:D:FW:0 led 14 7,7:U:FW:0 led 15 8,7:U:FW:0 ```</p>
<p>Which translates into the following positions:</p>
<p>``` 6 3 \ / \ 5-4 / 7 \ FRONT / 2 | 12-15 | 8 / BACK \ 1 / 10-11 \ / \ 9 0 ```</p>
<p>LEDs 0,3,6 and 9 should be placed underneath the quad, facing downwards. LEDs 1-2, 4-5, 7-8 and 10-11 should be positioned so the face east/north/west/south, respectively. LEDs 12-13 should be placed facing down, in the middle LEDs 14-15 should be placed facing up, in the middle</p>
<h3>Exmple 28 LED config</h3>
<p>``` #right rear cluster led 0 9,9:S:FWT:0 led 1 10,10:S:FWT:0 led 2 11,11:S:IA:0 led 3 11,11:E:IA:0 led 4 10,10:E:AT:0 led 5 9,9:E:AT:0 </p><h1>right front cluster</h1>
<p>led 6 10,5:S:F:0 led 7 11,4:S:F:0 led 8 12,3:S:IA:0 led 9 12,2:N:IA:0 led 10 11,1:N:F:0 led 11 10,0:N:F:0 </p><h1>center front cluster</h1>
<p>led 12 7,0:N:FW:0 led 13 6,0:N:FW:0 led 14 5,0:N:FW:0 led 15 4,0:N:FW:0 </p><h1>left front cluster</h1>
<p>led 16 2,0:N:F:0 led 17 1,1:N:F:0 led 18 0,2:N:IA:0 led 19 0,3:W:IA:0 led 20 1,4:S:F:0 led 21 2,5:S:F:0 </p><h1>left rear cluster</h1>
<p>led 22 2,9:W:AT:0 led 23 1,10:W:AT:0 led 24 0,11:W:IA:0 led 25 0,11:S:IA:0 led 26 1,10:S:FWT:0 led 27 2,9:S:FWT:0 ```</p>
<p>``` 16-18 9-11 19-21 \ / 6-8 \ 12-15 / \ FRONT / / BACK \ / \ 22-24 / \ 3-5 25-27 0-2 ```</p>
<p>All LEDs should face outwards from the chassis in this configuration.</p>
<p>Note: This configuration is specifically designed for the <a href="http://www.goodluckbuy.com/alien-spider-aq50d-pro-250mm-mini-quadcopter-carbon-fiber-micro-multicopter-frame.html">Alien Spider AQ50D PRO 250mm frame</a>.</p>
<h2>Troubleshooting</h2>
<p>On initial power up the LEDs on the strip will be set to WHITE. This means you can attach a current meter to verify the current draw if your measurement equipment is fast enough. Most 5050 LEDs will draw 0.3 Watts a piece. This also means that you can make sure that each R,G and B LED in each LED module on the strip is also functioning.</p>
<p>After a short delay the LEDs will show the unarmed color sequence and or low-battery warning sequence.</p>
<p>Also check that the feature <code>LED_STRIP</code> was correctly enabled and that it does not conflict with other features, as above. </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Mon Dec 12 2016 15:48:58 for NinjaFlight by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.7 </li>
  </ul>
</div>
</body>
</html>
