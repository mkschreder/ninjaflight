\hypertarget{pwm__output_8c}{\section{src/main/drivers/pwm\+\_\+output.c File Reference}
\label{pwm__output_8c}\index{src/main/drivers/pwm\+\_\+output.\+c@{src/main/drivers/pwm\+\_\+output.\+c}}
}
{\ttfamily \#include $<$stdbool.\+h$>$}\\*
{\ttfamily \#include $<$stdint.\+h$>$}\\*
{\ttfamily \#include $<$stdlib.\+h$>$}\\*
{\ttfamily \#include $<$platform.\+h$>$}\\*
{\ttfamily \#include \char`\"{}target.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}gpio.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}timer.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}system.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}pwm\+\_\+mapping.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}pwm\+\_\+output.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}common/maths.\+h\char`\"{}}\\*
Include dependency graph for pwm\+\_\+output.\+c\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{pwm__output_8c__incl}
\end{center}
\end{figure}
\subsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structpwmOutputPort__t}{pwm\+Output\+Port\+\_\+t}
\end{DoxyCompactItemize}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{pwm__output_8c_a02c115eefed7a481df55d4012f1cac8d}{M\+A\+X\+\_\+\+P\+W\+M\+\_\+\+O\+U\+T\+P\+U\+T\+\_\+\+P\+O\+R\+T\+S}~\hyperlink{asyncfatfs_8c_afa99ec4acc4ecb2dc3c2d05da15d0e3f}{M\+A\+X}(\hyperlink{pwm__mapping_8h_a40dfd7fdfce455ce507bf3fed368c2ed}{M\+A\+X\+\_\+\+M\+O\+T\+O\+R\+S}, \hyperlink{pwm__mapping_8h_a4259c40a55e489ed25c9f3cbb3be05ab}{M\+A\+X\+\_\+\+S\+E\+R\+V\+O\+S})
\end{DoxyCompactItemize}
\subsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef void($\ast$ \hyperlink{pwm__output_8c_a239e412c1ddcea4259fe3adc016cc55d}{pwm\+Write\+Func\+Ptr} )(uint8\+\_\+t index, uint16\+\_\+t value)
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{pwm__output_8c_a92d07abb3362123f3a49bf480e4d24b7}{pwm\+Brushed\+Motor\+Config} (const \hyperlink{timer_8h_a7a6521811f99a8d6a00ba58ba4b5ee57}{timer\+Hardware\+\_\+t} $\ast$\hyperlink{timer_8h_aac736360fe2f3dcfd307c5895fb08406}{timer\+Hardware}, uint8\+\_\+t motor\+Index, uint16\+\_\+t motor\+Pwm\+Rate, uint16\+\_\+t idle\+Pulse)
\item 
void \hyperlink{pwm__output_8c_a685ddb6fd127d5f5d1a6e6a5b38ce2b8}{pwm\+Brushless\+Motor\+Config} (const \hyperlink{timer_8h_a7a6521811f99a8d6a00ba58ba4b5ee57}{timer\+Hardware\+\_\+t} $\ast$\hyperlink{timer_8h_aac736360fe2f3dcfd307c5895fb08406}{timer\+Hardware}, uint8\+\_\+t motor\+Index, uint16\+\_\+t motor\+Pwm\+Rate, uint16\+\_\+t idle\+Pulse)
\item 
void \hyperlink{pwm__output_8c_a23bdf366acca5156f42f395e26f1037e}{pwm\+Oneshot\+Motor\+Config} (const \hyperlink{timer_8h_a7a6521811f99a8d6a00ba58ba4b5ee57}{timer\+Hardware\+\_\+t} $\ast$\hyperlink{timer_8h_aac736360fe2f3dcfd307c5895fb08406}{timer\+Hardware}, uint8\+\_\+t motor\+Index)
\item 
void \hyperlink{pwm__output_8c_a965954471cd56cc534662b60c785c486}{pwm\+Servo\+Config} (const \hyperlink{timer_8h_a7a6521811f99a8d6a00ba58ba4b5ee57}{timer\+Hardware\+\_\+t} $\ast$\hyperlink{timer_8h_aac736360fe2f3dcfd307c5895fb08406}{timer\+Hardware}, uint8\+\_\+t servo\+Index, uint16\+\_\+t servo\+Pwm\+Rate, uint16\+\_\+t \hyperlink{config_2mixer_8h_a050c28514d0bfa411a27cf8ae5856c01}{servo\+Center\+Pulse})
\item 
void \hyperlink{pwm__output_8c_afbb29ed99f7b36cb134005429e83a96e}{pwm\+Write\+Motor} (uint8\+\_\+t index, uint16\+\_\+t value)
\item 
void \hyperlink{pwm__output_8c_a4dcc069249cf08b7315fe254f3e9af76}{pwm\+Shutdown\+Pulses\+For\+All\+Motors} (uint8\+\_\+t motor\+Count)
\item 
void \hyperlink{pwm__output_8c_ac342fe18f718e9b74749af27ee9d7a55}{pwm\+Write\+All\+Motors} (uint8\+\_\+t motor\+Count, uint16\+\_\+t mc, bool oneshot)
\item 
void \hyperlink{pwm__output_8c_a439f7c205f12382fdfe35fb90357f6a3}{pwm\+Stop\+Motors} (bool oneshot)
\item 
void \hyperlink{pwm__output_8c_a9d1281250ae4a1b6352c12bd0585b9a4}{pwm\+Disable\+Motors} (void)
\item 
void \hyperlink{pwm__output_8c_aab941ae4abbf1b479799f0bfe159c9da}{pwm\+Enable\+Motors} (void)
\item 
void \hyperlink{pwm__output_8c_a532829034cab121116ead923416e1638}{pwm\+Complete\+Oneshot\+Motor\+Update} (uint8\+\_\+t motor\+Count)
\item 
bool \hyperlink{pwm__output_8c_a6f825790b8b06243858498876909844b}{is\+Motor\+Brushed} (uint16\+\_\+t motor\+Pwm\+Rate)
\end{DoxyCompactItemize}


\subsection{Macro Definition Documentation}
\hypertarget{pwm__output_8c_a02c115eefed7a481df55d4012f1cac8d}{\index{pwm\+\_\+output.\+c@{pwm\+\_\+output.\+c}!M\+A\+X\+\_\+\+P\+W\+M\+\_\+\+O\+U\+T\+P\+U\+T\+\_\+\+P\+O\+R\+T\+S@{M\+A\+X\+\_\+\+P\+W\+M\+\_\+\+O\+U\+T\+P\+U\+T\+\_\+\+P\+O\+R\+T\+S}}
\index{M\+A\+X\+\_\+\+P\+W\+M\+\_\+\+O\+U\+T\+P\+U\+T\+\_\+\+P\+O\+R\+T\+S@{M\+A\+X\+\_\+\+P\+W\+M\+\_\+\+O\+U\+T\+P\+U\+T\+\_\+\+P\+O\+R\+T\+S}!pwm\+\_\+output.\+c@{pwm\+\_\+output.\+c}}
\subsubsection[{M\+A\+X\+\_\+\+P\+W\+M\+\_\+\+O\+U\+T\+P\+U\+T\+\_\+\+P\+O\+R\+T\+S}]{\setlength{\rightskip}{0pt plus 5cm}\#define M\+A\+X\+\_\+\+P\+W\+M\+\_\+\+O\+U\+T\+P\+U\+T\+\_\+\+P\+O\+R\+T\+S~{\bf M\+A\+X}({\bf M\+A\+X\+\_\+\+M\+O\+T\+O\+R\+S}, {\bf M\+A\+X\+\_\+\+S\+E\+R\+V\+O\+S})}}\label{pwm__output_8c_a02c115eefed7a481df55d4012f1cac8d}


\subsection{Typedef Documentation}
\hypertarget{pwm__output_8c_a239e412c1ddcea4259fe3adc016cc55d}{\index{pwm\+\_\+output.\+c@{pwm\+\_\+output.\+c}!pwm\+Write\+Func\+Ptr@{pwm\+Write\+Func\+Ptr}}
\index{pwm\+Write\+Func\+Ptr@{pwm\+Write\+Func\+Ptr}!pwm\+\_\+output.\+c@{pwm\+\_\+output.\+c}}
\subsubsection[{pwm\+Write\+Func\+Ptr}]{\setlength{\rightskip}{0pt plus 5cm}typedef void($\ast$ pwm\+Write\+Func\+Ptr)(uint8\+\_\+t index, uint16\+\_\+t value)}}\label{pwm__output_8c_a239e412c1ddcea4259fe3adc016cc55d}


\subsection{Function Documentation}
\hypertarget{pwm__output_8c_a6f825790b8b06243858498876909844b}{\index{pwm\+\_\+output.\+c@{pwm\+\_\+output.\+c}!is\+Motor\+Brushed@{is\+Motor\+Brushed}}
\index{is\+Motor\+Brushed@{is\+Motor\+Brushed}!pwm\+\_\+output.\+c@{pwm\+\_\+output.\+c}}
\subsubsection[{is\+Motor\+Brushed}]{\setlength{\rightskip}{0pt plus 5cm}bool is\+Motor\+Brushed (
\begin{DoxyParamCaption}
\item[{uint16\+\_\+t}]{motor\+Pwm\+Rate}
\end{DoxyParamCaption}
)}}\label{pwm__output_8c_a6f825790b8b06243858498876909844b}
\hypertarget{pwm__output_8c_a92d07abb3362123f3a49bf480e4d24b7}{\index{pwm\+\_\+output.\+c@{pwm\+\_\+output.\+c}!pwm\+Brushed\+Motor\+Config@{pwm\+Brushed\+Motor\+Config}}
\index{pwm\+Brushed\+Motor\+Config@{pwm\+Brushed\+Motor\+Config}!pwm\+\_\+output.\+c@{pwm\+\_\+output.\+c}}
\subsubsection[{pwm\+Brushed\+Motor\+Config}]{\setlength{\rightskip}{0pt plus 5cm}void pwm\+Brushed\+Motor\+Config (
\begin{DoxyParamCaption}
\item[{const {\bf timer\+Hardware\+\_\+t} $\ast$}]{timer\+Hardware, }
\item[{uint8\+\_\+t}]{motor\+Index, }
\item[{uint16\+\_\+t}]{motor\+Pwm\+Rate, }
\item[{uint16\+\_\+t}]{idle\+Pulse}
\end{DoxyParamCaption}
)}}\label{pwm__output_8c_a92d07abb3362123f3a49bf480e4d24b7}
\hypertarget{pwm__output_8c_a685ddb6fd127d5f5d1a6e6a5b38ce2b8}{\index{pwm\+\_\+output.\+c@{pwm\+\_\+output.\+c}!pwm\+Brushless\+Motor\+Config@{pwm\+Brushless\+Motor\+Config}}
\index{pwm\+Brushless\+Motor\+Config@{pwm\+Brushless\+Motor\+Config}!pwm\+\_\+output.\+c@{pwm\+\_\+output.\+c}}
\subsubsection[{pwm\+Brushless\+Motor\+Config}]{\setlength{\rightskip}{0pt plus 5cm}void pwm\+Brushless\+Motor\+Config (
\begin{DoxyParamCaption}
\item[{const {\bf timer\+Hardware\+\_\+t} $\ast$}]{timer\+Hardware, }
\item[{uint8\+\_\+t}]{motor\+Index, }
\item[{uint16\+\_\+t}]{motor\+Pwm\+Rate, }
\item[{uint16\+\_\+t}]{idle\+Pulse}
\end{DoxyParamCaption}
)}}\label{pwm__output_8c_a685ddb6fd127d5f5d1a6e6a5b38ce2b8}
\hypertarget{pwm__output_8c_a532829034cab121116ead923416e1638}{\index{pwm\+\_\+output.\+c@{pwm\+\_\+output.\+c}!pwm\+Complete\+Oneshot\+Motor\+Update@{pwm\+Complete\+Oneshot\+Motor\+Update}}
\index{pwm\+Complete\+Oneshot\+Motor\+Update@{pwm\+Complete\+Oneshot\+Motor\+Update}!pwm\+\_\+output.\+c@{pwm\+\_\+output.\+c}}
\subsubsection[{pwm\+Complete\+Oneshot\+Motor\+Update}]{\setlength{\rightskip}{0pt plus 5cm}void pwm\+Complete\+Oneshot\+Motor\+Update (
\begin{DoxyParamCaption}
\item[{uint8\+\_\+t}]{motor\+Count}
\end{DoxyParamCaption}
)}}\label{pwm__output_8c_a532829034cab121116ead923416e1638}


Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{pwm__output_8c_a532829034cab121116ead923416e1638_cgraph}
\end{center}
\end{figure}


\hypertarget{pwm__output_8c_a9d1281250ae4a1b6352c12bd0585b9a4}{\index{pwm\+\_\+output.\+c@{pwm\+\_\+output.\+c}!pwm\+Disable\+Motors@{pwm\+Disable\+Motors}}
\index{pwm\+Disable\+Motors@{pwm\+Disable\+Motors}!pwm\+\_\+output.\+c@{pwm\+\_\+output.\+c}}
\subsubsection[{pwm\+Disable\+Motors}]{\setlength{\rightskip}{0pt plus 5cm}void pwm\+Disable\+Motors (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{pwm__output_8c_a9d1281250ae4a1b6352c12bd0585b9a4}
\hypertarget{pwm__output_8c_aab941ae4abbf1b479799f0bfe159c9da}{\index{pwm\+\_\+output.\+c@{pwm\+\_\+output.\+c}!pwm\+Enable\+Motors@{pwm\+Enable\+Motors}}
\index{pwm\+Enable\+Motors@{pwm\+Enable\+Motors}!pwm\+\_\+output.\+c@{pwm\+\_\+output.\+c}}
\subsubsection[{pwm\+Enable\+Motors}]{\setlength{\rightskip}{0pt plus 5cm}void pwm\+Enable\+Motors (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{pwm__output_8c_aab941ae4abbf1b479799f0bfe159c9da}
\hypertarget{pwm__output_8c_a23bdf366acca5156f42f395e26f1037e}{\index{pwm\+\_\+output.\+c@{pwm\+\_\+output.\+c}!pwm\+Oneshot\+Motor\+Config@{pwm\+Oneshot\+Motor\+Config}}
\index{pwm\+Oneshot\+Motor\+Config@{pwm\+Oneshot\+Motor\+Config}!pwm\+\_\+output.\+c@{pwm\+\_\+output.\+c}}
\subsubsection[{pwm\+Oneshot\+Motor\+Config}]{\setlength{\rightskip}{0pt plus 5cm}void pwm\+Oneshot\+Motor\+Config (
\begin{DoxyParamCaption}
\item[{const {\bf timer\+Hardware\+\_\+t} $\ast$}]{timer\+Hardware, }
\item[{uint8\+\_\+t}]{motor\+Index}
\end{DoxyParamCaption}
)}}\label{pwm__output_8c_a23bdf366acca5156f42f395e26f1037e}
\hypertarget{pwm__output_8c_a965954471cd56cc534662b60c785c486}{\index{pwm\+\_\+output.\+c@{pwm\+\_\+output.\+c}!pwm\+Servo\+Config@{pwm\+Servo\+Config}}
\index{pwm\+Servo\+Config@{pwm\+Servo\+Config}!pwm\+\_\+output.\+c@{pwm\+\_\+output.\+c}}
\subsubsection[{pwm\+Servo\+Config}]{\setlength{\rightskip}{0pt plus 5cm}void pwm\+Servo\+Config (
\begin{DoxyParamCaption}
\item[{const {\bf timer\+Hardware\+\_\+t} $\ast$}]{timer\+Hardware, }
\item[{uint8\+\_\+t}]{servo\+Index, }
\item[{uint16\+\_\+t}]{servo\+Pwm\+Rate, }
\item[{uint16\+\_\+t}]{servo\+Center\+Pulse}
\end{DoxyParamCaption}
)}}\label{pwm__output_8c_a965954471cd56cc534662b60c785c486}
\hypertarget{pwm__output_8c_a4dcc069249cf08b7315fe254f3e9af76}{\index{pwm\+\_\+output.\+c@{pwm\+\_\+output.\+c}!pwm\+Shutdown\+Pulses\+For\+All\+Motors@{pwm\+Shutdown\+Pulses\+For\+All\+Motors}}
\index{pwm\+Shutdown\+Pulses\+For\+All\+Motors@{pwm\+Shutdown\+Pulses\+For\+All\+Motors}!pwm\+\_\+output.\+c@{pwm\+\_\+output.\+c}}
\subsubsection[{pwm\+Shutdown\+Pulses\+For\+All\+Motors}]{\setlength{\rightskip}{0pt plus 5cm}void pwm\+Shutdown\+Pulses\+For\+All\+Motors (
\begin{DoxyParamCaption}
\item[{uint8\+\_\+t}]{motor\+Count}
\end{DoxyParamCaption}
)}}\label{pwm__output_8c_a4dcc069249cf08b7315fe254f3e9af76}
\hypertarget{pwm__output_8c_a439f7c205f12382fdfe35fb90357f6a3}{\index{pwm\+\_\+output.\+c@{pwm\+\_\+output.\+c}!pwm\+Stop\+Motors@{pwm\+Stop\+Motors}}
\index{pwm\+Stop\+Motors@{pwm\+Stop\+Motors}!pwm\+\_\+output.\+c@{pwm\+\_\+output.\+c}}
\subsubsection[{pwm\+Stop\+Motors}]{\setlength{\rightskip}{0pt plus 5cm}void pwm\+Stop\+Motors (
\begin{DoxyParamCaption}
\item[{bool}]{oneshot}
\end{DoxyParamCaption}
)}}\label{pwm__output_8c_a439f7c205f12382fdfe35fb90357f6a3}


Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{pwm__output_8c_a439f7c205f12382fdfe35fb90357f6a3_cgraph}
\end{center}
\end{figure}


\hypertarget{pwm__output_8c_ac342fe18f718e9b74749af27ee9d7a55}{\index{pwm\+\_\+output.\+c@{pwm\+\_\+output.\+c}!pwm\+Write\+All\+Motors@{pwm\+Write\+All\+Motors}}
\index{pwm\+Write\+All\+Motors@{pwm\+Write\+All\+Motors}!pwm\+\_\+output.\+c@{pwm\+\_\+output.\+c}}
\subsubsection[{pwm\+Write\+All\+Motors}]{\setlength{\rightskip}{0pt plus 5cm}void pwm\+Write\+All\+Motors (
\begin{DoxyParamCaption}
\item[{uint8\+\_\+t}]{motor\+Count, }
\item[{uint16\+\_\+t}]{mc, }
\item[{bool}]{oneshot}
\end{DoxyParamCaption}
)}}\label{pwm__output_8c_ac342fe18f718e9b74749af27ee9d7a55}


Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{pwm__output_8c_ac342fe18f718e9b74749af27ee9d7a55_cgraph}
\end{center}
\end{figure}


\hypertarget{pwm__output_8c_afbb29ed99f7b36cb134005429e83a96e}{\index{pwm\+\_\+output.\+c@{pwm\+\_\+output.\+c}!pwm\+Write\+Motor@{pwm\+Write\+Motor}}
\index{pwm\+Write\+Motor@{pwm\+Write\+Motor}!pwm\+\_\+output.\+c@{pwm\+\_\+output.\+c}}
\subsubsection[{pwm\+Write\+Motor}]{\setlength{\rightskip}{0pt plus 5cm}void pwm\+Write\+Motor (
\begin{DoxyParamCaption}
\item[{uint8\+\_\+t}]{index, }
\item[{uint16\+\_\+t}]{value}
\end{DoxyParamCaption}
)}}\label{pwm__output_8c_afbb29ed99f7b36cb134005429e83a96e}
