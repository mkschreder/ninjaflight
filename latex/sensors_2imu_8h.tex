\hypertarget{sensors_2imu_8h}{\section{src/main/sensors/imu.h File Reference}
\label{sensors_2imu_8h}\index{src/main/sensors/imu.\+h@{src/main/sensors/imu.\+h}}
}
{\ttfamily \#include $<$stdbool.\+h$>$}\\*
{\ttfamily \#include \char`\"{}common/axis.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}common/maths.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}common/quaternion.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}../config/imu.\+h\char`\"{}}\\*
Include dependency graph for imu.\+h\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{sensors_2imu_8h__incl}
\end{center}
\end{figure}
This graph shows which files directly or indirectly include this file\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{sensors_2imu_8h__dep__incl}
\end{center}
\end{figure}
\subsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
union \hyperlink{unionimu__accel__reading}{imu\+\_\+accel\+\_\+reading}
\item 
union \hyperlink{unionattitude__euler__angles}{attitude\+\_\+euler\+\_\+angles}
\item 
struct \hyperlink{structimu}{imu}
\end{DoxyCompactItemize}
\subsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef int32\+\_\+t \hyperlink{sensors_2imu_8h_a39a58b64c495dbff3a56fdc6e26370c6}{gyro\+\_\+rates\+\_\+t} \mbox{[}3\mbox{]}
\item 
typedef int32\+\_\+t \hyperlink{sensors_2imu_8h_a0bf30b91921322c45fa1b0b9b72c2ddb}{acc\+\_\+rates\+\_\+t} \mbox{[}3\mbox{]}
\item 
typedef union \hyperlink{unionattitude__euler__angles}{attitude\+\_\+euler\+\_\+angles} \hyperlink{sensors_2imu_8h_a33c4400b185ac57319e7f9ce2bcd1fbf}{euler\+\_\+angles\+\_\+t}
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{group__IMU_ga52996c126e6e5673acf14a7300952af7}{imu\+\_\+init} (struct \hyperlink{structimu}{imu} $\ast$self, const struct \hyperlink{structconfig}{config} $\ast$\hyperlink{structconfig}{config})
\item 
void \hyperlink{sensors_2imu_8h_ad9db395dd18e9bbe55ba67829f7b65ad}{imu\+\_\+reload\+\_\+config} (struct \hyperlink{structimu}{imu} $\ast$self)
\item 
void \hyperlink{group__IMU_ga515a0c1950608b61bb91fdc26504dd86}{imu\+\_\+input\+\_\+accelerometer} (struct \hyperlink{structimu}{imu} $\ast$self, int16\+\_\+t x, int16\+\_\+t y, int16\+\_\+t \hyperlink{accelerometer_8h_ab3539ae3820541b70d17c66cfc5a0e3f}{z})
\item 
void \hyperlink{group__IMU_ga57e6b2abb21fe897496e1d88104d40d2}{imu\+\_\+input\+\_\+gyro} (struct \hyperlink{structimu}{imu} $\ast$self, int16\+\_\+t x, int16\+\_\+t y, int16\+\_\+t \hyperlink{accelerometer_8h_ab3539ae3820541b70d17c66cfc5a0e3f}{z})
\item 
void \hyperlink{group__IMU_gafd573f1d86b59931a3588c939f233bcd}{imu\+\_\+input\+\_\+magnetometer} (struct \hyperlink{structimu}{imu} $\ast$self, int16\+\_\+t x, int16\+\_\+t y, int16\+\_\+t \hyperlink{accelerometer_8h_ab3539ae3820541b70d17c66cfc5a0e3f}{z})
\item 
void \hyperlink{group__IMU_gaf2ec644e7cd76d0d74c6263c7cdb5b40}{imu\+\_\+input\+\_\+yaw\+\_\+dd} (struct \hyperlink{structimu}{imu} $\ast$self, int16\+\_\+t \hyperlink{sensors_8h_ad9679e37cfd53ac65eaf76de1951c753}{yaw})
\item 
void \hyperlink{group__IMU_gaea89e9b064c1540b404b159a6299d3e1}{imu\+\_\+update} (struct \hyperlink{structimu}{imu} $\ast$self, float dt)
\item 
void \hyperlink{group__IMU_gac2f3d89971ad35932072f3d450ec4a07}{imu\+\_\+reset} (struct \hyperlink{structimu}{imu} $\ast$self)
\item 
int16\+\_\+t \hyperlink{group__IMU_ga0befbbcf186271e441c96785d81c66c5}{imu\+\_\+calc\+\_\+throttle\+\_\+angle\+\_\+correction} (struct \hyperlink{structimu}{imu} $\ast$self, uint8\+\_\+t \hyperlink{config_2imu_8h_a1a7f9dc5875a0da7f90c1d5e2280f6c9}{throttle\+\_\+correction\+\_\+value})
\item 
int16\+\_\+t \hyperlink{sensors_2imu_8h_a933790c07c0130e8ca07c871b164789f}{imu\+\_\+calc\+\_\+heading} (struct \hyperlink{structimu}{imu} $\ast$self, \hyperlink{uniont__fp__vector}{t\+\_\+fp\+\_\+vector} $\ast$vec)
\item 
float \hyperlink{group__IMU_ga03d025c898aa2047074e7790c0b01da2}{imu\+\_\+get\+\_\+cos\+\_\+tilt\+\_\+angle} (struct \hyperlink{structimu}{imu} $\ast$self)
\item 
bool \hyperlink{group__IMU_ga45c533ccb49a54d930c529880938a7cf}{imu\+\_\+is\+\_\+leveled} (struct \hyperlink{structimu}{imu} $\ast$self, uint8\+\_\+t max\+\_\+angle)
\item 
void \hyperlink{group__IMU_ga2c57a4c3ff44e2992d937428212ed45e}{imu\+\_\+get\+\_\+attitude\+\_\+dd} (struct \hyperlink{structimu}{imu} $\ast$self, union \hyperlink{unionattitude__euler__angles}{attitude\+\_\+euler\+\_\+angles} $\ast$att)
\item 
void \hyperlink{group__IMU_gad7bc3b9d4043a7984dfbded19f44266f}{imu\+\_\+get\+\_\+raw\+\_\+accel} (struct \hyperlink{structimu}{imu} $\ast$self, union \hyperlink{unionimu__accel__reading}{imu\+\_\+accel\+\_\+reading} $\ast$\hyperlink{initialisation_8c_a5008519710746affca50c04439353fe3}{acc})
\item 
void \hyperlink{sensors_2imu_8h_a7f0041a389ba8dda199866784cf3fcda}{imu\+\_\+set\+\_\+acc\+\_\+scale} (struct \hyperlink{structimu}{imu} $\ast$self, int16\+\_\+t acc\+\_\+1\+G)
\item 
void \hyperlink{sensors_2imu_8h_abe4386ef930d4163c70b513b9e10fb0d}{imu\+\_\+set\+\_\+gyro\+\_\+scale} (struct \hyperlink{structimu}{imu} $\ast$self, float gyro\+\_\+scale)
\item 
void \hyperlink{group__IMU_ga5e93f02a33a72833cf151d7f8bba746a}{imu\+\_\+get\+\_\+gyro} (struct \hyperlink{structimu}{imu} $\ast$self, int16\+\_\+t \hyperlink{initialisation_8c_a2b9758e6eb53a9c7feb493701a653b9b}{gyro}\mbox{[}3\mbox{]})
\item 
float \hyperlink{group__IMU_gadb23e2588cbfebd30481a7739dc62d03}{imu\+\_\+get\+\_\+gyro\+\_\+scale} (struct \hyperlink{structimu}{imu} $\ast$self)
\item 
int16\+\_\+t \hyperlink{group__IMU_ga6c751e33a47bf80cbe5aa9d973cf00eb}{imu\+\_\+get\+\_\+roll\+\_\+dd} (struct \hyperlink{structimu}{imu} $\ast$self)
\item 
int16\+\_\+t \hyperlink{group__IMU_ga51949202a657dcd89cd4e2e26d63bd85}{imu\+\_\+get\+\_\+pitch\+\_\+dd} (struct \hyperlink{structimu}{imu} $\ast$self)
\item 
int16\+\_\+t \hyperlink{group__IMU_ga5f87adc76052c88b4e526db2ad435042}{imu\+\_\+get\+\_\+yaw\+\_\+dd} (struct \hyperlink{structimu}{imu} $\ast$self)
\item 
void \hyperlink{group__IMU_gabace85956fa36d478c5d66b45465478f}{imu\+\_\+get\+\_\+rotation} (struct \hyperlink{structimu}{imu} $\ast$self, \hyperlink{quaternion_8h_afa59c16bbf0d057ddc01eb80bdd7c339}{quat\+\_\+t} $\ast$q)
\item 
void \hyperlink{group__IMU_gad46d84705e3777ce1b6a682e1c6b3a34}{imu\+\_\+enable\+\_\+fast\+\_\+dcm\+\_\+convergence} (struct \hyperlink{structimu}{imu} $\ast$self, bool on)
\item 
float \hyperlink{group__IMU_ga8c43a3d4febb3ab8bf43108ad0f595de}{imu\+\_\+get\+\_\+avg\+\_\+vertical\+\_\+accel\+\_\+cmss} (struct \hyperlink{structimu}{imu} $\ast$self)
\item 
float \hyperlink{group__IMU_ga2c8c5fa5f2f13edc7f1f8442449b2d41}{imu\+\_\+get\+\_\+est\+\_\+vertical\+\_\+vel\+\_\+cms} (struct \hyperlink{structimu}{imu} $\ast$self)
\item 
float \hyperlink{group__IMU_ga47fdd7dace913e4a85dd1e8dd7bd07bd}{imu\+\_\+get\+\_\+velocity\+\_\+integration\+\_\+time} (struct \hyperlink{structimu}{imu} $\ast$self)
\item 
void \hyperlink{group__IMU_ga5905e3300bfeafee44252ae58f7b98d2}{imu\+\_\+reset\+\_\+velocity\+\_\+estimate} (struct \hyperlink{structimu}{imu} $\ast$self)
\end{DoxyCompactItemize}


\subsection{Typedef Documentation}
\hypertarget{sensors_2imu_8h_a0bf30b91921322c45fa1b0b9b72c2ddb}{\index{sensors/imu.\+h@{sensors/imu.\+h}!acc\+\_\+rates\+\_\+t@{acc\+\_\+rates\+\_\+t}}
\index{acc\+\_\+rates\+\_\+t@{acc\+\_\+rates\+\_\+t}!sensors/imu.\+h@{sensors/imu.\+h}}
\subsubsection[{acc\+\_\+rates\+\_\+t}]{\setlength{\rightskip}{0pt plus 5cm}typedef int32\+\_\+t acc\+\_\+rates\+\_\+t\mbox{[}3\mbox{]}}}\label{sensors_2imu_8h_a0bf30b91921322c45fa1b0b9b72c2ddb}
\hypertarget{sensors_2imu_8h_a33c4400b185ac57319e7f9ce2bcd1fbf}{\index{sensors/imu.\+h@{sensors/imu.\+h}!euler\+\_\+angles\+\_\+t@{euler\+\_\+angles\+\_\+t}}
\index{euler\+\_\+angles\+\_\+t@{euler\+\_\+angles\+\_\+t}!sensors/imu.\+h@{sensors/imu.\+h}}
\subsubsection[{euler\+\_\+angles\+\_\+t}]{\setlength{\rightskip}{0pt plus 5cm}typedef union {\bf attitude\+\_\+euler\+\_\+angles} {\bf euler\+\_\+angles\+\_\+t}}}\label{sensors_2imu_8h_a33c4400b185ac57319e7f9ce2bcd1fbf}
\hypertarget{sensors_2imu_8h_a39a58b64c495dbff3a56fdc6e26370c6}{\index{sensors/imu.\+h@{sensors/imu.\+h}!gyro\+\_\+rates\+\_\+t@{gyro\+\_\+rates\+\_\+t}}
\index{gyro\+\_\+rates\+\_\+t@{gyro\+\_\+rates\+\_\+t}!sensors/imu.\+h@{sensors/imu.\+h}}
\subsubsection[{gyro\+\_\+rates\+\_\+t}]{\setlength{\rightskip}{0pt plus 5cm}typedef int32\+\_\+t gyro\+\_\+rates\+\_\+t\mbox{[}3\mbox{]}}}\label{sensors_2imu_8h_a39a58b64c495dbff3a56fdc6e26370c6}


\subsection{Function Documentation}
\hypertarget{sensors_2imu_8h_a933790c07c0130e8ca07c871b164789f}{\index{sensors/imu.\+h@{sensors/imu.\+h}!imu\+\_\+calc\+\_\+heading@{imu\+\_\+calc\+\_\+heading}}
\index{imu\+\_\+calc\+\_\+heading@{imu\+\_\+calc\+\_\+heading}!sensors/imu.\+h@{sensors/imu.\+h}}
\subsubsection[{imu\+\_\+calc\+\_\+heading}]{\setlength{\rightskip}{0pt plus 5cm}int16\+\_\+t imu\+\_\+calc\+\_\+heading (
\begin{DoxyParamCaption}
\item[{struct {\bf imu} $\ast$}]{self, }
\item[{{\bf t\+\_\+fp\+\_\+vector} $\ast$}]{vec}
\end{DoxyParamCaption}
)}}\label{sensors_2imu_8h_a933790c07c0130e8ca07c871b164789f}
\hypertarget{sensors_2imu_8h_ad9db395dd18e9bbe55ba67829f7b65ad}{\index{sensors/imu.\+h@{sensors/imu.\+h}!imu\+\_\+reload\+\_\+config@{imu\+\_\+reload\+\_\+config}}
\index{imu\+\_\+reload\+\_\+config@{imu\+\_\+reload\+\_\+config}!sensors/imu.\+h@{sensors/imu.\+h}}
\subsubsection[{imu\+\_\+reload\+\_\+config}]{\setlength{\rightskip}{0pt plus 5cm}void imu\+\_\+reload\+\_\+config (
\begin{DoxyParamCaption}
\item[{struct {\bf imu} $\ast$}]{self}
\end{DoxyParamCaption}
)}}\label{sensors_2imu_8h_ad9db395dd18e9bbe55ba67829f7b65ad}
\hypertarget{sensors_2imu_8h_a7f0041a389ba8dda199866784cf3fcda}{\index{sensors/imu.\+h@{sensors/imu.\+h}!imu\+\_\+set\+\_\+acc\+\_\+scale@{imu\+\_\+set\+\_\+acc\+\_\+scale}}
\index{imu\+\_\+set\+\_\+acc\+\_\+scale@{imu\+\_\+set\+\_\+acc\+\_\+scale}!sensors/imu.\+h@{sensors/imu.\+h}}
\subsubsection[{imu\+\_\+set\+\_\+acc\+\_\+scale}]{\setlength{\rightskip}{0pt plus 5cm}void imu\+\_\+set\+\_\+acc\+\_\+scale (
\begin{DoxyParamCaption}
\item[{struct {\bf imu} $\ast$}]{self, }
\item[{int16\+\_\+t}]{acc\+\_\+1\+G}
\end{DoxyParamCaption}
)}}\label{sensors_2imu_8h_a7f0041a389ba8dda199866784cf3fcda}
\hypertarget{sensors_2imu_8h_abe4386ef930d4163c70b513b9e10fb0d}{\index{sensors/imu.\+h@{sensors/imu.\+h}!imu\+\_\+set\+\_\+gyro\+\_\+scale@{imu\+\_\+set\+\_\+gyro\+\_\+scale}}
\index{imu\+\_\+set\+\_\+gyro\+\_\+scale@{imu\+\_\+set\+\_\+gyro\+\_\+scale}!sensors/imu.\+h@{sensors/imu.\+h}}
\subsubsection[{imu\+\_\+set\+\_\+gyro\+\_\+scale}]{\setlength{\rightskip}{0pt plus 5cm}void imu\+\_\+set\+\_\+gyro\+\_\+scale (
\begin{DoxyParamCaption}
\item[{struct {\bf imu} $\ast$}]{self, }
\item[{float}]{gyro\+\_\+scale}
\end{DoxyParamCaption}
)}}\label{sensors_2imu_8h_abe4386ef930d4163c70b513b9e10fb0d}
