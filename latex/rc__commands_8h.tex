\hypertarget{rc__commands_8h}{\section{src/main/rc\+\_\+commands.h File Reference}
\label{rc__commands_8h}\index{src/main/rc\+\_\+commands.\+h@{src/main/rc\+\_\+commands.\+h}}
}
{\ttfamily \#include \char`\"{}config/rate\+\_\+profile.\+h\char`\"{}}\\*
Include dependency graph for rc\+\_\+commands.\+h\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=206pt]{rc__commands_8h__incl}
\end{center}
\end{figure}
This graph shows which files directly or indirectly include this file\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{rc__commands_8h__dep__incl}
\end{center}
\end{figure}
\subsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structrc__command}{rc\+\_\+command}
\begin{DoxyCompactList}\small\item\em R\+C commands state. Inputs are raw commands in range \mbox{[}1000-\/2000\mbox{]}. Outputs are R\+C commands in range \mbox{[}-\/500;500\mbox{]} after applying expo and other parameters. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{rc__commands_8h_aaa992d098655b44344d71c3249f84fc9}{P\+I\+T\+C\+H\+\_\+\+L\+O\+O\+K\+U\+P\+\_\+\+L\+E\+N\+G\+T\+H}~7
\begin{DoxyCompactList}\small\item\em compile time configuration of the pitch/roll lookup table \end{DoxyCompactList}\item 
\#define \hyperlink{rc__commands_8h_a8758cc0f95a7e77b5d09f4c03194df6b}{Y\+A\+W\+\_\+\+L\+O\+O\+K\+U\+P\+\_\+\+L\+E\+N\+G\+T\+H}~7
\begin{DoxyCompactList}\small\item\em compile time configuration of the yaw lookup table \end{DoxyCompactList}\item 
\#define \hyperlink{rc__commands_8h_a8cce32335257577e6259d5480adaf056}{T\+H\+R\+O\+T\+T\+L\+E\+\_\+\+L\+O\+O\+K\+U\+P\+\_\+\+L\+E\+N\+G\+T\+H}~12
\begin{DoxyCompactList}\small\item\em compile time configuration of the throttle lookup table \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{rc__commands_8h_a1be34c401b7cbed06d0e1f80f6f60dc1}{rc\+\_\+command\+\_\+init} (struct \hyperlink{structrc__command}{rc\+\_\+command} $\ast$self, struct \hyperlink{structrx}{rx} $\ast$\hyperlink{structrx}{rx})
\begin{DoxyCompactList}\small\item\em Initializes the curves with default linear ranges. \end{DoxyCompactList}\item 
void \hyperlink{rc__commands_8h_a8931d60ef49e4f497c02c157762641ca}{rc\+\_\+command\+\_\+set\+\_\+rate\+\_\+config} (struct \hyperlink{structrc__command}{rc\+\_\+command} $\ast$self, struct \hyperlink{structrate__config}{rate\+\_\+config} $\ast$rates)
\begin{DoxyCompactList}\small\item\em Updates internal variables to use new rates and also recalculates the lookup tables if the supplied profile is different than the one that is currently being used. \end{DoxyCompactList}\item 
void \hyperlink{rc__commands_8h_a54621b8abd6a6a9fbaed582cca7ac46e}{rc\+\_\+command\+\_\+update} (struct \hyperlink{structrc__command}{rc\+\_\+command} $\ast$self)
\begin{DoxyCompactList}\small\item\em Updates current rc rates from the current rc values. Inputs are in range \mbox{[}1000;2000\mbox{]} and should correspond to raw pwm values from rc receiver. \end{DoxyCompactList}\item 
int16\+\_\+t \hyperlink{rc__commands_8h_a16db501a4cbe55bfde2d8e7bee8ebccc}{rc\+\_\+command\+\_\+axis} (struct \hyperlink{structrc__command}{rc\+\_\+command} $\ast$self, uint8\+\_\+t stick)
\begin{DoxyCompactList}\small\item\em Get current stick value in range \mbox{[}-\/500;500\mbox{]}, stick is only R\+O\+L\+L, P\+I\+T\+C\+H, Y\+Aw. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Macro Definition Documentation}
\hypertarget{rc__commands_8h_aaa992d098655b44344d71c3249f84fc9}{\index{rc\+\_\+commands.\+h@{rc\+\_\+commands.\+h}!P\+I\+T\+C\+H\+\_\+\+L\+O\+O\+K\+U\+P\+\_\+\+L\+E\+N\+G\+T\+H@{P\+I\+T\+C\+H\+\_\+\+L\+O\+O\+K\+U\+P\+\_\+\+L\+E\+N\+G\+T\+H}}
\index{P\+I\+T\+C\+H\+\_\+\+L\+O\+O\+K\+U\+P\+\_\+\+L\+E\+N\+G\+T\+H@{P\+I\+T\+C\+H\+\_\+\+L\+O\+O\+K\+U\+P\+\_\+\+L\+E\+N\+G\+T\+H}!rc\+\_\+commands.\+h@{rc\+\_\+commands.\+h}}
\subsubsection[{P\+I\+T\+C\+H\+\_\+\+L\+O\+O\+K\+U\+P\+\_\+\+L\+E\+N\+G\+T\+H}]{\setlength{\rightskip}{0pt plus 5cm}\#define P\+I\+T\+C\+H\+\_\+\+L\+O\+O\+K\+U\+P\+\_\+\+L\+E\+N\+G\+T\+H~7}}\label{rc__commands_8h_aaa992d098655b44344d71c3249f84fc9}


compile time configuration of the pitch/roll lookup table 

Flight Library

The main responsibility of this class is to process raw rc commands and translate them into values that are to be passed as commands to the flight controller. This process involves applying expo and ensuring valid limits on the output values. \hypertarget{rc__commands_8h_a8cce32335257577e6259d5480adaf056}{\index{rc\+\_\+commands.\+h@{rc\+\_\+commands.\+h}!T\+H\+R\+O\+T\+T\+L\+E\+\_\+\+L\+O\+O\+K\+U\+P\+\_\+\+L\+E\+N\+G\+T\+H@{T\+H\+R\+O\+T\+T\+L\+E\+\_\+\+L\+O\+O\+K\+U\+P\+\_\+\+L\+E\+N\+G\+T\+H}}
\index{T\+H\+R\+O\+T\+T\+L\+E\+\_\+\+L\+O\+O\+K\+U\+P\+\_\+\+L\+E\+N\+G\+T\+H@{T\+H\+R\+O\+T\+T\+L\+E\+\_\+\+L\+O\+O\+K\+U\+P\+\_\+\+L\+E\+N\+G\+T\+H}!rc\+\_\+commands.\+h@{rc\+\_\+commands.\+h}}
\subsubsection[{T\+H\+R\+O\+T\+T\+L\+E\+\_\+\+L\+O\+O\+K\+U\+P\+\_\+\+L\+E\+N\+G\+T\+H}]{\setlength{\rightskip}{0pt plus 5cm}\#define T\+H\+R\+O\+T\+T\+L\+E\+\_\+\+L\+O\+O\+K\+U\+P\+\_\+\+L\+E\+N\+G\+T\+H~12}}\label{rc__commands_8h_a8cce32335257577e6259d5480adaf056}


compile time configuration of the throttle lookup table 

\hypertarget{rc__commands_8h_a8758cc0f95a7e77b5d09f4c03194df6b}{\index{rc\+\_\+commands.\+h@{rc\+\_\+commands.\+h}!Y\+A\+W\+\_\+\+L\+O\+O\+K\+U\+P\+\_\+\+L\+E\+N\+G\+T\+H@{Y\+A\+W\+\_\+\+L\+O\+O\+K\+U\+P\+\_\+\+L\+E\+N\+G\+T\+H}}
\index{Y\+A\+W\+\_\+\+L\+O\+O\+K\+U\+P\+\_\+\+L\+E\+N\+G\+T\+H@{Y\+A\+W\+\_\+\+L\+O\+O\+K\+U\+P\+\_\+\+L\+E\+N\+G\+T\+H}!rc\+\_\+commands.\+h@{rc\+\_\+commands.\+h}}
\subsubsection[{Y\+A\+W\+\_\+\+L\+O\+O\+K\+U\+P\+\_\+\+L\+E\+N\+G\+T\+H}]{\setlength{\rightskip}{0pt plus 5cm}\#define Y\+A\+W\+\_\+\+L\+O\+O\+K\+U\+P\+\_\+\+L\+E\+N\+G\+T\+H~7}}\label{rc__commands_8h_a8758cc0f95a7e77b5d09f4c03194df6b}


compile time configuration of the yaw lookup table 



\subsection{Function Documentation}
\hypertarget{rc__commands_8h_a16db501a4cbe55bfde2d8e7bee8ebccc}{\index{rc\+\_\+commands.\+h@{rc\+\_\+commands.\+h}!rc\+\_\+command\+\_\+axis@{rc\+\_\+command\+\_\+axis}}
\index{rc\+\_\+command\+\_\+axis@{rc\+\_\+command\+\_\+axis}!rc\+\_\+commands.\+h@{rc\+\_\+commands.\+h}}
\subsubsection[{rc\+\_\+command\+\_\+axis}]{\setlength{\rightskip}{0pt plus 5cm}int16\+\_\+t rc\+\_\+command\+\_\+axis (
\begin{DoxyParamCaption}
\item[{struct {\bf rc\+\_\+command} $\ast$}]{self, }
\item[{uint8\+\_\+t}]{stick}
\end{DoxyParamCaption}
)}}\label{rc__commands_8h_a16db501a4cbe55bfde2d8e7bee8ebccc}


Get current stick value in range \mbox{[}-\/500;500\mbox{]}, stick is only R\+O\+L\+L, P\+I\+T\+C\+H, Y\+Aw. 

\hypertarget{rc__commands_8h_a1be34c401b7cbed06d0e1f80f6f60dc1}{\index{rc\+\_\+commands.\+h@{rc\+\_\+commands.\+h}!rc\+\_\+command\+\_\+init@{rc\+\_\+command\+\_\+init}}
\index{rc\+\_\+command\+\_\+init@{rc\+\_\+command\+\_\+init}!rc\+\_\+commands.\+h@{rc\+\_\+commands.\+h}}
\subsubsection[{rc\+\_\+command\+\_\+init}]{\setlength{\rightskip}{0pt plus 5cm}void rc\+\_\+command\+\_\+init (
\begin{DoxyParamCaption}
\item[{struct {\bf rc\+\_\+command} $\ast$}]{self, }
\item[{struct {\bf rx} $\ast$}]{rx}
\end{DoxyParamCaption}
)}}\label{rc__commands_8h_a1be34c401b7cbed06d0e1f80f6f60dc1}


Initializes the curves with default linear ranges. 

\hypertarget{rc__commands_8h_a8931d60ef49e4f497c02c157762641ca}{\index{rc\+\_\+commands.\+h@{rc\+\_\+commands.\+h}!rc\+\_\+command\+\_\+set\+\_\+rate\+\_\+config@{rc\+\_\+command\+\_\+set\+\_\+rate\+\_\+config}}
\index{rc\+\_\+command\+\_\+set\+\_\+rate\+\_\+config@{rc\+\_\+command\+\_\+set\+\_\+rate\+\_\+config}!rc\+\_\+commands.\+h@{rc\+\_\+commands.\+h}}
\subsubsection[{rc\+\_\+command\+\_\+set\+\_\+rate\+\_\+config}]{\setlength{\rightskip}{0pt plus 5cm}void rc\+\_\+command\+\_\+set\+\_\+rate\+\_\+config (
\begin{DoxyParamCaption}
\item[{struct {\bf rc\+\_\+command} $\ast$}]{self, }
\item[{struct {\bf rate\+\_\+config} $\ast$}]{rates}
\end{DoxyParamCaption}
)}}\label{rc__commands_8h_a8931d60ef49e4f497c02c157762641ca}


Updates internal variables to use new rates and also recalculates the lookup tables if the supplied profile is different than the one that is currently being used. 

\hypertarget{rc__commands_8h_a54621b8abd6a6a9fbaed582cca7ac46e}{\index{rc\+\_\+commands.\+h@{rc\+\_\+commands.\+h}!rc\+\_\+command\+\_\+update@{rc\+\_\+command\+\_\+update}}
\index{rc\+\_\+command\+\_\+update@{rc\+\_\+command\+\_\+update}!rc\+\_\+commands.\+h@{rc\+\_\+commands.\+h}}
\subsubsection[{rc\+\_\+command\+\_\+update}]{\setlength{\rightskip}{0pt plus 5cm}void rc\+\_\+command\+\_\+update (
\begin{DoxyParamCaption}
\item[{struct {\bf rc\+\_\+command} $\ast$}]{self}
\end{DoxyParamCaption}
)}}\label{rc__commands_8h_a54621b8abd6a6a9fbaed582cca7ac46e}


Updates current rc rates from the current rc values. Inputs are in range \mbox{[}1000;2000\mbox{]} and should correspond to raw pwm values from rc receiver. 



Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=308pt]{rc__commands_8h_a54621b8abd6a6a9fbaed582cca7ac46e_cgraph}
\end{center}
\end{figure}


