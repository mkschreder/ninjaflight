\hypertarget{imu_8c}{\section{src/main/sensors/imu.c File Reference}
\label{imu_8c}\index{src/main/sensors/imu.\+c@{src/main/sensors/imu.\+c}}
}
{\ttfamily \#include $<$stdbool.\+h$>$}\\*
{\ttfamily \#include $<$stdint.\+h$>$}\\*
{\ttfamily \#include $<$string.\+h$>$}\\*
{\ttfamily \#include $<$math.\+h$>$}\\*
{\ttfamily \#include \char`\"{}common/maths.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}build\+\_\+config.\+h\char`\"{}}\\*
{\ttfamily \#include $<$platform.\+h$>$}\\*
{\ttfamily \#include \char`\"{}debug.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}common/axis.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}common/filter.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}common/quaternion.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}config/config.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}drivers/system.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}drivers/sensor.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}drivers/accgyro.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}drivers/compass.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}imu.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}gyro.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}compass.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}acceleration.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}barometer.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}sonar.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}system\+\_\+calls.\+h\char`\"{}}\\*
Include dependency graph for imu.\+c\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{imu_8c__incl}
\end{center}
\end{figure}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{group__IMU_ga86bbc61e689c15e74cf01916d16894fe}{S\+P\+I\+N\+\_\+\+R\+A\+T\+E\+\_\+\+L\+I\+M\+I\+T}~20
\end{DoxyCompactItemize}
\subsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
enum \{ \hyperlink{group__IMU_ggaae05225933a42f81e7c4a9fb286596f9a399b1b9b14b617da7b7e8c80a3f97b5a}{I\+M\+U\+\_\+\+F\+L\+A\+G\+\_\+\+U\+S\+E\+\_\+\+A\+C\+C} = (1 $<$$<$ 0), 
\hyperlink{group__IMU_ggaae05225933a42f81e7c4a9fb286596f9a186ac11170a21b97a4fbc4a59a19370a}{I\+M\+U\+\_\+\+F\+L\+A\+G\+\_\+\+U\+S\+E\+\_\+\+M\+A\+G} = (1 $<$$<$ 1), 
\hyperlink{group__IMU_ggaae05225933a42f81e7c4a9fb286596f9afc683ea06e572c5c8d5ec2e1d5f74b43}{I\+M\+U\+\_\+\+F\+L\+A\+G\+\_\+\+U\+S\+E\+\_\+\+Y\+A\+W} = (1 $<$$<$ 2), 
\hyperlink{group__IMU_ggaae05225933a42f81e7c4a9fb286596f9ab4e9ab0f17f61f7db2b77d7506d85319}{I\+M\+U\+\_\+\+F\+L\+A\+G\+\_\+\+D\+C\+M\+\_\+\+C\+O\+N\+V\+E\+R\+G\+E\+\_\+\+F\+A\+S\+T\+E\+R} = (1 $<$$<$ 3)
 \}
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{group__IMU_gac2f3d89971ad35932072f3d450ec4a07}{imu\+\_\+reset} (struct \hyperlink{structimu}{imu} $\ast$self)
\item 
void \hyperlink{group__IMU_ga52996c126e6e5673acf14a7300952af7}{imu\+\_\+init} (struct \hyperlink{structimu}{imu} $\ast$self, const struct \hyperlink{structconfig}{config} $\ast$\hyperlink{structconfig}{config})
\item 
void \hyperlink{group__IMU_ga5905e3300bfeafee44252ae58f7b98d2}{imu\+\_\+reset\+\_\+velocity\+\_\+estimate} (struct \hyperlink{structimu}{imu} $\ast$self)
\item 
bool \hyperlink{group__IMU_ga45c533ccb49a54d930c529880938a7cf}{imu\+\_\+is\+\_\+leveled} (struct \hyperlink{structimu}{imu} $\ast$self, uint8\+\_\+t max\+\_\+angle)
\item 
void \hyperlink{group__IMU_gaea89e9b064c1540b404b159a6299d3e1}{imu\+\_\+update} (struct \hyperlink{structimu}{imu} $\ast$self, float dt)
\item 
void \hyperlink{group__IMU_ga515a0c1950608b61bb91fdc26504dd86}{imu\+\_\+input\+\_\+accelerometer} (struct \hyperlink{structimu}{imu} $\ast$self, int16\+\_\+t x, int16\+\_\+t y, int16\+\_\+t \hyperlink{accelerometer_8h_ab3539ae3820541b70d17c66cfc5a0e3f}{z})
\item 
void \hyperlink{group__IMU_gafd573f1d86b59931a3588c939f233bcd}{imu\+\_\+input\+\_\+magnetometer} (struct \hyperlink{structimu}{imu} $\ast$self, int16\+\_\+t x, int16\+\_\+t y, int16\+\_\+t \hyperlink{accelerometer_8h_ab3539ae3820541b70d17c66cfc5a0e3f}{z})
\item 
void \hyperlink{group__IMU_ga57e6b2abb21fe897496e1d88104d40d2}{imu\+\_\+input\+\_\+gyro} (struct \hyperlink{structimu}{imu} $\ast$self, int16\+\_\+t x, int16\+\_\+t y, int16\+\_\+t \hyperlink{accelerometer_8h_ab3539ae3820541b70d17c66cfc5a0e3f}{z})
\item 
void \hyperlink{group__IMU_gaf2ec644e7cd76d0d74c6263c7cdb5b40}{imu\+\_\+input\+\_\+yaw\+\_\+dd} (struct \hyperlink{structimu}{imu} $\ast$self, int16\+\_\+t \hyperlink{sensors_8h_ad9679e37cfd53ac65eaf76de1951c753}{yaw})
\item 
void \hyperlink{group__IMU_gabace85956fa36d478c5d66b45465478f}{imu\+\_\+get\+\_\+rotation} (struct \hyperlink{structimu}{imu} $\ast$self, \hyperlink{quaternion_8h_afa59c16bbf0d057ddc01eb80bdd7c339}{quat\+\_\+t} $\ast$q)
\item 
float \hyperlink{group__IMU_ga03d025c898aa2047074e7790c0b01da2}{imu\+\_\+get\+\_\+cos\+\_\+tilt\+\_\+angle} (struct \hyperlink{structimu}{imu} $\ast$self)
\item 
int16\+\_\+t \hyperlink{group__IMU_ga0befbbcf186271e441c96785d81c66c5}{imu\+\_\+calc\+\_\+throttle\+\_\+angle\+\_\+correction} (struct \hyperlink{structimu}{imu} $\ast$self, uint8\+\_\+t \hyperlink{config_2imu_8h_a1a7f9dc5875a0da7f90c1d5e2280f6c9}{throttle\+\_\+correction\+\_\+value})
\item 
void \hyperlink{group__IMU_ga2c57a4c3ff44e2992d937428212ed45e}{imu\+\_\+get\+\_\+attitude\+\_\+dd} (struct \hyperlink{structimu}{imu} $\ast$self, union \hyperlink{unionattitude__euler__angles}{attitude\+\_\+euler\+\_\+angles} $\ast$att)
\item 
void \hyperlink{group__IMU_ga5e93f02a33a72833cf151d7f8bba746a}{imu\+\_\+get\+\_\+gyro} (struct \hyperlink{structimu}{imu} $\ast$self, int16\+\_\+t gyr\mbox{[}3\mbox{]})
\item 
float \hyperlink{group__IMU_gadb23e2588cbfebd30481a7739dc62d03}{imu\+\_\+get\+\_\+gyro\+\_\+scale} (struct \hyperlink{structimu}{imu} $\ast$self)
\item 
void \hyperlink{group__IMU_gad7bc3b9d4043a7984dfbded19f44266f}{imu\+\_\+get\+\_\+raw\+\_\+accel} (struct \hyperlink{structimu}{imu} $\ast$self, union \hyperlink{unionimu__accel__reading}{imu\+\_\+accel\+\_\+reading} $\ast$accel)
\item 
int16\+\_\+t \hyperlink{group__IMU_ga6c751e33a47bf80cbe5aa9d973cf00eb}{imu\+\_\+get\+\_\+roll\+\_\+dd} (struct \hyperlink{structimu}{imu} $\ast$self)
\item 
int16\+\_\+t \hyperlink{group__IMU_ga51949202a657dcd89cd4e2e26d63bd85}{imu\+\_\+get\+\_\+pitch\+\_\+dd} (struct \hyperlink{structimu}{imu} $\ast$self)
\item 
int16\+\_\+t \hyperlink{group__IMU_ga5f87adc76052c88b4e526db2ad435042}{imu\+\_\+get\+\_\+yaw\+\_\+dd} (struct \hyperlink{structimu}{imu} $\ast$self)
\item 
float \hyperlink{group__IMU_ga47fdd7dace913e4a85dd1e8dd7bd07bd}{imu\+\_\+get\+\_\+velocity\+\_\+integration\+\_\+time} (struct \hyperlink{structimu}{imu} $\ast$self)
\item 
float \hyperlink{group__IMU_ga8c43a3d4febb3ab8bf43108ad0f595de}{imu\+\_\+get\+\_\+avg\+\_\+vertical\+\_\+accel\+\_\+cmss} (struct \hyperlink{structimu}{imu} $\ast$self)
\item 
float \hyperlink{group__IMU_ga2c8c5fa5f2f13edc7f1f8442449b2d41}{imu\+\_\+get\+\_\+est\+\_\+vertical\+\_\+vel\+\_\+cms} (struct \hyperlink{structimu}{imu} $\ast$self)
\item 
void \hyperlink{group__IMU_gad46d84705e3777ce1b6a682e1c6b3a34}{imu\+\_\+enable\+\_\+fast\+\_\+dcm\+\_\+convergence} (struct \hyperlink{structimu}{imu} $\ast$self, bool on)
\end{DoxyCompactItemize}
