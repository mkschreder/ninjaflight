\hypertarget{system_8c}{\section{src/main/drivers/system.c File Reference}
\label{system_8c}\index{src/main/drivers/system.\+c@{src/main/drivers/system.\+c}}
}
{\ttfamily \#include $<$string.\+h$>$}\\*
{\ttfamily \#include $<$stdbool.\+h$>$}\\*
{\ttfamily \#include $<$stdint.\+h$>$}\\*
{\ttfamily \#include $<$stdlib.\+h$>$}\\*
{\ttfamily \#include $<$platform.\+h$>$}\\*
{\ttfamily \#include \char`\"{}build\+\_\+config.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}gpio.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}light\+\_\+led.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}sound\+\_\+beeper.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}nvic.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}serial.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}serial\+\_\+uart.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}system.\+h\char`\"{}}\\*
Include dependency graph for system.\+c\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{system_8c__incl}
\end{center}
\end{figure}
\subsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structextiCallbackHandlerConfig__s}{exti\+Callback\+Handler\+Config\+\_\+s}
\end{DoxyCompactItemize}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{system_8c_aeec876cffefa0c79b41233ed3e92de52}{E\+X\+T\+I\+\_\+\+C\+A\+L\+L\+B\+A\+C\+K\+\_\+\+H\+A\+N\+D\+L\+E\+R\+\_\+\+C\+O\+U\+N\+T}~1
\item 
\#define \hyperlink{system_8c_a813cdf621d6b413e9472b76ec6126a85}{S\+H\+O\+R\+T\+\_\+\+F\+L\+A\+S\+H\+\_\+\+D\+U\+R\+A\+T\+I\+O\+N}~50
\item 
\#define \hyperlink{system_8c_acd62a0b7674944ffabfb994efa473d81}{C\+O\+D\+E\+\_\+\+F\+L\+A\+S\+H\+\_\+\+D\+U\+R\+A\+T\+I\+O\+N}~250
\end{DoxyCompactItemize}
\subsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef struct \\*
\hyperlink{structextiCallbackHandlerConfig__s}{exti\+Callback\+Handler\+Config\+\_\+s} \hyperlink{system_8c_afaf6dc980da63ea90eb0935410cc38e1}{exti\+Callback\+Handler\+Config\+\_\+t}
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{system_8c_ac49a76e36030c0613d58801666ec5b3b}{register\+Exti\+Callback\+Handler} (int irqn, \hyperlink{drivers_2system_8h_a605c56adbc9c1679eb70dbf353757953}{exti\+Callback\+Handler\+Func} $\ast$fn)
\item 
void \hyperlink{system_8c_a1cb87fda33e58dd299590925c9ccde82}{unregister\+Exti\+Callback\+Handler} (int irqn, \hyperlink{drivers_2system_8h_a605c56adbc9c1679eb70dbf353757953}{exti\+Callback\+Handler\+Func} $\ast$fn)
\item 
void \hyperlink{system_8c_a738473a5b43f6c92b80ce1d3d6f77ed9}{E\+X\+T\+I15\+\_\+10\+\_\+\+I\+R\+Q\+Handler} (void)
\item 
void \hyperlink{system_8c_ab5e09814056d617c521549e542639b7e}{Sys\+Tick\+\_\+\+Handler} (void)
\item 
uint32\+\_\+t \hyperlink{system_8c_af543edc4b91ee97e556de2f0bbc709ad}{micros} (void)
\item 
uint32\+\_\+t \hyperlink{system_8c_acd8d13c328bebdf9eddea27ff9448c2d}{millis} (void)
\item 
void \hyperlink{system_8c_ab11a117f1e08391f23d1da05930e7acf}{system\+Init} (void)
\item 
void \hyperlink{system_8c_afeebbaae62529ba54dc5e6b1e15602c2}{usleep} (uint32\+\_\+t us)
\item 
void \hyperlink{system_8c_aaaf9af1ec192ad8edc3573be55e1a92c}{failure\+Mode} (\hyperlink{drivers_2system_8h_a7f5222b2eb8f37e606a7c0a520655bf8}{failure\+Mode\+\_\+e} \hyperlink{config_2tilt_8h_a37e90f5e3bd99fac2021fb3a326607d4}{mode})
\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
uint32\+\_\+t \hyperlink{system_8c_a7ad06d45823789040cf300458e3d65c9}{cached\+Rcc\+Csr\+Value}
\end{DoxyCompactItemize}


\subsection{Macro Definition Documentation}
\hypertarget{system_8c_acd62a0b7674944ffabfb994efa473d81}{\index{system.\+c@{system.\+c}!C\+O\+D\+E\+\_\+\+F\+L\+A\+S\+H\+\_\+\+D\+U\+R\+A\+T\+I\+O\+N@{C\+O\+D\+E\+\_\+\+F\+L\+A\+S\+H\+\_\+\+D\+U\+R\+A\+T\+I\+O\+N}}
\index{C\+O\+D\+E\+\_\+\+F\+L\+A\+S\+H\+\_\+\+D\+U\+R\+A\+T\+I\+O\+N@{C\+O\+D\+E\+\_\+\+F\+L\+A\+S\+H\+\_\+\+D\+U\+R\+A\+T\+I\+O\+N}!system.\+c@{system.\+c}}
\subsubsection[{C\+O\+D\+E\+\_\+\+F\+L\+A\+S\+H\+\_\+\+D\+U\+R\+A\+T\+I\+O\+N}]{\setlength{\rightskip}{0pt plus 5cm}\#define C\+O\+D\+E\+\_\+\+F\+L\+A\+S\+H\+\_\+\+D\+U\+R\+A\+T\+I\+O\+N~250}}\label{system_8c_acd62a0b7674944ffabfb994efa473d81}
\hypertarget{system_8c_aeec876cffefa0c79b41233ed3e92de52}{\index{system.\+c@{system.\+c}!E\+X\+T\+I\+\_\+\+C\+A\+L\+L\+B\+A\+C\+K\+\_\+\+H\+A\+N\+D\+L\+E\+R\+\_\+\+C\+O\+U\+N\+T@{E\+X\+T\+I\+\_\+\+C\+A\+L\+L\+B\+A\+C\+K\+\_\+\+H\+A\+N\+D\+L\+E\+R\+\_\+\+C\+O\+U\+N\+T}}
\index{E\+X\+T\+I\+\_\+\+C\+A\+L\+L\+B\+A\+C\+K\+\_\+\+H\+A\+N\+D\+L\+E\+R\+\_\+\+C\+O\+U\+N\+T@{E\+X\+T\+I\+\_\+\+C\+A\+L\+L\+B\+A\+C\+K\+\_\+\+H\+A\+N\+D\+L\+E\+R\+\_\+\+C\+O\+U\+N\+T}!system.\+c@{system.\+c}}
\subsubsection[{E\+X\+T\+I\+\_\+\+C\+A\+L\+L\+B\+A\+C\+K\+\_\+\+H\+A\+N\+D\+L\+E\+R\+\_\+\+C\+O\+U\+N\+T}]{\setlength{\rightskip}{0pt plus 5cm}\#define E\+X\+T\+I\+\_\+\+C\+A\+L\+L\+B\+A\+C\+K\+\_\+\+H\+A\+N\+D\+L\+E\+R\+\_\+\+C\+O\+U\+N\+T~1}}\label{system_8c_aeec876cffefa0c79b41233ed3e92de52}
\hypertarget{system_8c_a813cdf621d6b413e9472b76ec6126a85}{\index{system.\+c@{system.\+c}!S\+H\+O\+R\+T\+\_\+\+F\+L\+A\+S\+H\+\_\+\+D\+U\+R\+A\+T\+I\+O\+N@{S\+H\+O\+R\+T\+\_\+\+F\+L\+A\+S\+H\+\_\+\+D\+U\+R\+A\+T\+I\+O\+N}}
\index{S\+H\+O\+R\+T\+\_\+\+F\+L\+A\+S\+H\+\_\+\+D\+U\+R\+A\+T\+I\+O\+N@{S\+H\+O\+R\+T\+\_\+\+F\+L\+A\+S\+H\+\_\+\+D\+U\+R\+A\+T\+I\+O\+N}!system.\+c@{system.\+c}}
\subsubsection[{S\+H\+O\+R\+T\+\_\+\+F\+L\+A\+S\+H\+\_\+\+D\+U\+R\+A\+T\+I\+O\+N}]{\setlength{\rightskip}{0pt plus 5cm}\#define S\+H\+O\+R\+T\+\_\+\+F\+L\+A\+S\+H\+\_\+\+D\+U\+R\+A\+T\+I\+O\+N~50}}\label{system_8c_a813cdf621d6b413e9472b76ec6126a85}


\subsection{Typedef Documentation}
\hypertarget{system_8c_afaf6dc980da63ea90eb0935410cc38e1}{\index{system.\+c@{system.\+c}!exti\+Callback\+Handler\+Config\+\_\+t@{exti\+Callback\+Handler\+Config\+\_\+t}}
\index{exti\+Callback\+Handler\+Config\+\_\+t@{exti\+Callback\+Handler\+Config\+\_\+t}!system.\+c@{system.\+c}}
\subsubsection[{exti\+Callback\+Handler\+Config\+\_\+t}]{\setlength{\rightskip}{0pt plus 5cm}typedef struct {\bf exti\+Callback\+Handler\+Config\+\_\+s}  {\bf exti\+Callback\+Handler\+Config\+\_\+t}}}\label{system_8c_afaf6dc980da63ea90eb0935410cc38e1}


\subsection{Function Documentation}
\hypertarget{system_8c_a738473a5b43f6c92b80ce1d3d6f77ed9}{\index{system.\+c@{system.\+c}!E\+X\+T\+I15\+\_\+10\+\_\+\+I\+R\+Q\+Handler@{E\+X\+T\+I15\+\_\+10\+\_\+\+I\+R\+Q\+Handler}}
\index{E\+X\+T\+I15\+\_\+10\+\_\+\+I\+R\+Q\+Handler@{E\+X\+T\+I15\+\_\+10\+\_\+\+I\+R\+Q\+Handler}!system.\+c@{system.\+c}}
\subsubsection[{E\+X\+T\+I15\+\_\+10\+\_\+\+I\+R\+Q\+Handler}]{\setlength{\rightskip}{0pt plus 5cm}void E\+X\+T\+I15\+\_\+10\+\_\+\+I\+R\+Q\+Handler (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{system_8c_a738473a5b43f6c92b80ce1d3d6f77ed9}
\hypertarget{system_8c_aaaf9af1ec192ad8edc3573be55e1a92c}{\index{system.\+c@{system.\+c}!failure\+Mode@{failure\+Mode}}
\index{failure\+Mode@{failure\+Mode}!system.\+c@{system.\+c}}
\subsubsection[{failure\+Mode}]{\setlength{\rightskip}{0pt plus 5cm}void failure\+Mode (
\begin{DoxyParamCaption}
\item[{{\bf failure\+Mode\+\_\+e}}]{mode}
\end{DoxyParamCaption}
)}}\label{system_8c_aaaf9af1ec192ad8edc3573be55e1a92c}


Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{system_8c_aaaf9af1ec192ad8edc3573be55e1a92c_cgraph}
\end{center}
\end{figure}


\hypertarget{system_8c_af543edc4b91ee97e556de2f0bbc709ad}{\index{system.\+c@{system.\+c}!micros@{micros}}
\index{micros@{micros}!system.\+c@{system.\+c}}
\subsubsection[{micros}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t micros (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{system_8c_af543edc4b91ee97e556de2f0bbc709ad}
\hypertarget{system_8c_acd8d13c328bebdf9eddea27ff9448c2d}{\index{system.\+c@{system.\+c}!millis@{millis}}
\index{millis@{millis}!system.\+c@{system.\+c}}
\subsubsection[{millis}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t millis (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{system_8c_acd8d13c328bebdf9eddea27ff9448c2d}
\hypertarget{system_8c_ac49a76e36030c0613d58801666ec5b3b}{\index{system.\+c@{system.\+c}!register\+Exti\+Callback\+Handler@{register\+Exti\+Callback\+Handler}}
\index{register\+Exti\+Callback\+Handler@{register\+Exti\+Callback\+Handler}!system.\+c@{system.\+c}}
\subsubsection[{register\+Exti\+Callback\+Handler}]{\setlength{\rightskip}{0pt plus 5cm}void register\+Exti\+Callback\+Handler (
\begin{DoxyParamCaption}
\item[{int}]{irqn, }
\item[{{\bf exti\+Callback\+Handler\+Func} $\ast$}]{fn}
\end{DoxyParamCaption}
)}}\label{system_8c_ac49a76e36030c0613d58801666ec5b3b}


Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{system_8c_ac49a76e36030c0613d58801666ec5b3b_cgraph}
\end{center}
\end{figure}


\hypertarget{system_8c_ab11a117f1e08391f23d1da05930e7acf}{\index{system.\+c@{system.\+c}!system\+Init@{system\+Init}}
\index{system\+Init@{system\+Init}!system.\+c@{system.\+c}}
\subsubsection[{system\+Init}]{\setlength{\rightskip}{0pt plus 5cm}void system\+Init (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{system_8c_ab11a117f1e08391f23d1da05930e7acf}


Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{system_8c_ab11a117f1e08391f23d1da05930e7acf_cgraph}
\end{center}
\end{figure}


\hypertarget{system_8c_ab5e09814056d617c521549e542639b7e}{\index{system.\+c@{system.\+c}!Sys\+Tick\+\_\+\+Handler@{Sys\+Tick\+\_\+\+Handler}}
\index{Sys\+Tick\+\_\+\+Handler@{Sys\+Tick\+\_\+\+Handler}!system.\+c@{system.\+c}}
\subsubsection[{Sys\+Tick\+\_\+\+Handler}]{\setlength{\rightskip}{0pt plus 5cm}void Sys\+Tick\+\_\+\+Handler (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{system_8c_ab5e09814056d617c521549e542639b7e}
\hypertarget{system_8c_a1cb87fda33e58dd299590925c9ccde82}{\index{system.\+c@{system.\+c}!unregister\+Exti\+Callback\+Handler@{unregister\+Exti\+Callback\+Handler}}
\index{unregister\+Exti\+Callback\+Handler@{unregister\+Exti\+Callback\+Handler}!system.\+c@{system.\+c}}
\subsubsection[{unregister\+Exti\+Callback\+Handler}]{\setlength{\rightskip}{0pt plus 5cm}void unregister\+Exti\+Callback\+Handler (
\begin{DoxyParamCaption}
\item[{int}]{irqn, }
\item[{{\bf exti\+Callback\+Handler\+Func} $\ast$}]{fn}
\end{DoxyParamCaption}
)}}\label{system_8c_a1cb87fda33e58dd299590925c9ccde82}
\hypertarget{system_8c_afeebbaae62529ba54dc5e6b1e15602c2}{\index{system.\+c@{system.\+c}!usleep@{usleep}}
\index{usleep@{usleep}!system.\+c@{system.\+c}}
\subsubsection[{usleep}]{\setlength{\rightskip}{0pt plus 5cm}void usleep (
\begin{DoxyParamCaption}
\item[{uint32\+\_\+t}]{us}
\end{DoxyParamCaption}
)}}\label{system_8c_afeebbaae62529ba54dc5e6b1e15602c2}


Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=208pt]{system_8c_afeebbaae62529ba54dc5e6b1e15602c2_cgraph}
\end{center}
\end{figure}




\subsection{Variable Documentation}
\hypertarget{system_8c_a7ad06d45823789040cf300458e3d65c9}{\index{system.\+c@{system.\+c}!cached\+Rcc\+Csr\+Value@{cached\+Rcc\+Csr\+Value}}
\index{cached\+Rcc\+Csr\+Value@{cached\+Rcc\+Csr\+Value}!system.\+c@{system.\+c}}
\subsubsection[{cached\+Rcc\+Csr\+Value}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t cached\+Rcc\+Csr\+Value}}\label{system_8c_a7ad06d45823789040cf300458e3d65c9}
