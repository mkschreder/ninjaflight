\hypertarget{rc__controls_8c}{\section{src/main/io/rc\+\_\+controls.c File Reference}
\label{rc__controls_8c}\index{src/main/io/rc\+\_\+controls.\+c@{src/main/io/rc\+\_\+controls.\+c}}
}
{\ttfamily \#include $<$stdbool.\+h$>$}\\*
{\ttfamily \#include $<$stdint.\+h$>$}\\*
{\ttfamily \#include $<$string.\+h$>$}\\*
{\ttfamily \#include $<$math.\+h$>$}\\*
{\ttfamily \#include $<$platform.\+h$>$}\\*
{\ttfamily \#include \char`\"{}build\+\_\+config.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}common/axis.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}common/maths.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}config/parameter\+\_\+group.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}config/parameter\+\_\+group\+\_\+ids.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}config/config.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}config/runtime\+\_\+config.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}config/feature.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}config/config\+\_\+reset.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}drivers/system.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}drivers/sensor.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}drivers/accgyro.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}io/rc\+\_\+controls.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}sensors/barometer.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}sensors/battery.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}sensors/sensors.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}sensors/gyro.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}sensors/acceleration.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}sensors/instruments.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}io/gps.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}io/beeper.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}io/rc\+\_\+curves.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}io/display.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}flight/anglerate.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}flight/navigation.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}flight/failsafe.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}ninjaflight.\+h\char`\"{}}\\*
Include dependency graph for rc\+\_\+controls.\+c\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{rc__controls_8c__incl}
\end{center}
\end{figure}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{rc__controls_8c_a2acc9b8e5d6c44f9e4e210ec56cf3d49}{A\+I\+R\+M\+O\+D\+E\+\_\+\+D\+E\+A\+D\+B\+A\+N\+D}~12
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
bool \hyperlink{rc__controls_8c_adc311f70a938738204250e18de1ee4d2}{is\+Using\+Sticks\+For\+Arming} (void)
\item 
bool \hyperlink{rc__controls_8c_a0e026506cd8594b119567abaa027ceb7}{are\+Sticks\+In\+Ap\+Mode\+Position} (uint16\+\_\+t ap\+\_\+mode)
\item 
\hyperlink{io_2rc__controls_8h_a9072ae8077e0352a2201fff2caa9d2ba}{throttle\+Status\+\_\+e} \hyperlink{rc__controls_8c_a17a68d31e9b7b6e0c79dcd1a1d19c81c}{calculate\+Throttle\+Status} (\hyperlink{config_2rx_8h_a9a522ef6db22f2820b1ae0cb562aff4f}{rx\+Config\+\_\+t} $\ast$rx\+Config, uint16\+\_\+t deadband3d\+\_\+throttle)
\item 
\hyperlink{io_2rc__controls_8h_a891d794ff367b4671e5db0cbbc3ccf9a}{roll\+Pitch\+Status\+\_\+e} \hyperlink{rc__controls_8c_a4c6997c488479aa860dd559d4205e3ae}{calculate\+Roll\+Pitch\+Center\+Status} (\hyperlink{config_2rx_8h_a9a522ef6db22f2820b1ae0cb562aff4f}{rx\+Config\+\_\+t} $\ast$rx\+Config)
\item 
void \hyperlink{rc__controls_8c_a72196cac8e9754b00cad951ed5974a68}{process\+Rc\+Stick\+Positions} (\hyperlink{config_2rx_8h_a9a522ef6db22f2820b1ae0cb562aff4f}{rx\+Config\+\_\+t} $\ast$rx\+Config, \hyperlink{io_2rc__controls_8h_a9072ae8077e0352a2201fff2caa9d2ba}{throttle\+Status\+\_\+e} throttle\+Status, bool retarded\+\_\+arm, bool disarm\+\_\+kill\+\_\+switch)
\item 
bool \hyperlink{rc__controls_8c_a1ad79b9c82a8297322f7f89025d1a72c}{rc\+Mode\+Is\+Activation\+Condition\+Present} (\hyperlink{config_2rc__controls_8h_a23d0b2f96c4164c489bedb5e2d7ece98}{mode\+Activation\+Condition\+\_\+t} $\ast$mode\+Activation\+Conditions, \hyperlink{config_2rc__controls_8h_a204cb52657be464220db4dca1fcf9045}{box\+Id\+\_\+e} mode\+Id)
\item 
bool \hyperlink{rc__controls_8c_aa1369ed4600610e776156c17b581d039}{is\+Range\+Active} (uint8\+\_\+t aux\+Channel\+Index, \hyperlink{config_2rc__controls_8h_a828530b5a74a83442378d11970c97db1}{channel\+Range\+\_\+t} $\ast$range)
\item 
bool \hyperlink{rc__controls_8c_a21a62a38a0416325e5a9703c7535089c}{rc\+Mode\+Is\+Active} (\hyperlink{config_2rc__controls_8h_a204cb52657be464220db4dca1fcf9045}{box\+Id\+\_\+e} mode\+Id)
\item 
void \hyperlink{rc__controls_8c_ac533aab7edefe7a198ac5138c3b75cb1}{rc\+Mode\+Update\+Activated} (\hyperlink{config_2rc__controls_8h_a23d0b2f96c4164c489bedb5e2d7ece98}{mode\+Activation\+Condition\+\_\+t} $\ast$mode\+Activation\+Conditions)
\item 
int32\+\_\+t \hyperlink{rc__controls_8c_a5be042b06f9a6121e39ed3465611773c}{get\+Rc\+Stick\+Deflection} (int32\+\_\+t axis, uint16\+\_\+t midrc)
\item 
void \hyperlink{rc__controls_8c_a9d7c82cd2f130ba946446a3421ab2604}{use\+Rc\+Controls\+Config} (\hyperlink{config_2rc__controls_8h_a23d0b2f96c4164c489bedb5e2d7ece98}{mode\+Activation\+Condition\+\_\+t} $\ast$mode\+Activation\+Conditions)
\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
int16\+\_\+t \hyperlink{rc__controls_8c_a9a0c78dfc7223feffbdd4f1d4f0f5b62}{rc\+Command} \mbox{[}4\mbox{]}
\item 
uint32\+\_\+t \hyperlink{rc__controls_8c_af77590ad2c015dff5422b5982c636c85}{rc\+Mode\+Activation\+Mask}
\end{DoxyCompactItemize}


\subsection{Macro Definition Documentation}
\hypertarget{rc__controls_8c_a2acc9b8e5d6c44f9e4e210ec56cf3d49}{\index{rc\+\_\+controls.\+c@{rc\+\_\+controls.\+c}!A\+I\+R\+M\+O\+D\+E\+\_\+\+D\+E\+A\+D\+B\+A\+N\+D@{A\+I\+R\+M\+O\+D\+E\+\_\+\+D\+E\+A\+D\+B\+A\+N\+D}}
\index{A\+I\+R\+M\+O\+D\+E\+\_\+\+D\+E\+A\+D\+B\+A\+N\+D@{A\+I\+R\+M\+O\+D\+E\+\_\+\+D\+E\+A\+D\+B\+A\+N\+D}!rc\+\_\+controls.\+c@{rc\+\_\+controls.\+c}}
\subsubsection[{A\+I\+R\+M\+O\+D\+E\+\_\+\+D\+E\+A\+D\+B\+A\+N\+D}]{\setlength{\rightskip}{0pt plus 5cm}\#define A\+I\+R\+M\+O\+D\+E\+\_\+\+D\+E\+A\+D\+B\+A\+N\+D~12}}\label{rc__controls_8c_a2acc9b8e5d6c44f9e4e210ec56cf3d49}


\subsection{Function Documentation}
\hypertarget{rc__controls_8c_a0e026506cd8594b119567abaa027ceb7}{\index{rc\+\_\+controls.\+c@{rc\+\_\+controls.\+c}!are\+Sticks\+In\+Ap\+Mode\+Position@{are\+Sticks\+In\+Ap\+Mode\+Position}}
\index{are\+Sticks\+In\+Ap\+Mode\+Position@{are\+Sticks\+In\+Ap\+Mode\+Position}!rc\+\_\+controls.\+c@{rc\+\_\+controls.\+c}}
\subsubsection[{are\+Sticks\+In\+Ap\+Mode\+Position}]{\setlength{\rightskip}{0pt plus 5cm}bool are\+Sticks\+In\+Ap\+Mode\+Position (
\begin{DoxyParamCaption}
\item[{uint16\+\_\+t}]{ap\+\_\+mode}
\end{DoxyParamCaption}
)}}\label{rc__controls_8c_a0e026506cd8594b119567abaa027ceb7}
\hypertarget{rc__controls_8c_a4c6997c488479aa860dd559d4205e3ae}{\index{rc\+\_\+controls.\+c@{rc\+\_\+controls.\+c}!calculate\+Roll\+Pitch\+Center\+Status@{calculate\+Roll\+Pitch\+Center\+Status}}
\index{calculate\+Roll\+Pitch\+Center\+Status@{calculate\+Roll\+Pitch\+Center\+Status}!rc\+\_\+controls.\+c@{rc\+\_\+controls.\+c}}
\subsubsection[{calculate\+Roll\+Pitch\+Center\+Status}]{\setlength{\rightskip}{0pt plus 5cm}{\bf roll\+Pitch\+Status\+\_\+e} calculate\+Roll\+Pitch\+Center\+Status (
\begin{DoxyParamCaption}
\item[{{\bf rx\+Config\+\_\+t} $\ast$}]{rx\+Config}
\end{DoxyParamCaption}
)}}\label{rc__controls_8c_a4c6997c488479aa860dd559d4205e3ae}
\hypertarget{rc__controls_8c_a17a68d31e9b7b6e0c79dcd1a1d19c81c}{\index{rc\+\_\+controls.\+c@{rc\+\_\+controls.\+c}!calculate\+Throttle\+Status@{calculate\+Throttle\+Status}}
\index{calculate\+Throttle\+Status@{calculate\+Throttle\+Status}!rc\+\_\+controls.\+c@{rc\+\_\+controls.\+c}}
\subsubsection[{calculate\+Throttle\+Status}]{\setlength{\rightskip}{0pt plus 5cm}{\bf throttle\+Status\+\_\+e} calculate\+Throttle\+Status (
\begin{DoxyParamCaption}
\item[{{\bf rx\+Config\+\_\+t} $\ast$}]{rx\+Config, }
\item[{uint16\+\_\+t}]{deadband3d\+\_\+throttle}
\end{DoxyParamCaption}
)}}\label{rc__controls_8c_a17a68d31e9b7b6e0c79dcd1a1d19c81c}
\hypertarget{rc__controls_8c_a5be042b06f9a6121e39ed3465611773c}{\index{rc\+\_\+controls.\+c@{rc\+\_\+controls.\+c}!get\+Rc\+Stick\+Deflection@{get\+Rc\+Stick\+Deflection}}
\index{get\+Rc\+Stick\+Deflection@{get\+Rc\+Stick\+Deflection}!rc\+\_\+controls.\+c@{rc\+\_\+controls.\+c}}
\subsubsection[{get\+Rc\+Stick\+Deflection}]{\setlength{\rightskip}{0pt plus 5cm}int32\+\_\+t get\+Rc\+Stick\+Deflection (
\begin{DoxyParamCaption}
\item[{int32\+\_\+t}]{axis, }
\item[{uint16\+\_\+t}]{midrc}
\end{DoxyParamCaption}
)}}\label{rc__controls_8c_a5be042b06f9a6121e39ed3465611773c}
\hypertarget{rc__controls_8c_aa1369ed4600610e776156c17b581d039}{\index{rc\+\_\+controls.\+c@{rc\+\_\+controls.\+c}!is\+Range\+Active@{is\+Range\+Active}}
\index{is\+Range\+Active@{is\+Range\+Active}!rc\+\_\+controls.\+c@{rc\+\_\+controls.\+c}}
\subsubsection[{is\+Range\+Active}]{\setlength{\rightskip}{0pt plus 5cm}bool is\+Range\+Active (
\begin{DoxyParamCaption}
\item[{uint8\+\_\+t}]{aux\+Channel\+Index, }
\item[{{\bf channel\+Range\+\_\+t} $\ast$}]{range}
\end{DoxyParamCaption}
)}}\label{rc__controls_8c_aa1369ed4600610e776156c17b581d039}
\hypertarget{rc__controls_8c_adc311f70a938738204250e18de1ee4d2}{\index{rc\+\_\+controls.\+c@{rc\+\_\+controls.\+c}!is\+Using\+Sticks\+For\+Arming@{is\+Using\+Sticks\+For\+Arming}}
\index{is\+Using\+Sticks\+For\+Arming@{is\+Using\+Sticks\+For\+Arming}!rc\+\_\+controls.\+c@{rc\+\_\+controls.\+c}}
\subsubsection[{is\+Using\+Sticks\+For\+Arming}]{\setlength{\rightskip}{0pt plus 5cm}bool is\+Using\+Sticks\+For\+Arming (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{rc__controls_8c_adc311f70a938738204250e18de1ee4d2}
\hypertarget{rc__controls_8c_a72196cac8e9754b00cad951ed5974a68}{\index{rc\+\_\+controls.\+c@{rc\+\_\+controls.\+c}!process\+Rc\+Stick\+Positions@{process\+Rc\+Stick\+Positions}}
\index{process\+Rc\+Stick\+Positions@{process\+Rc\+Stick\+Positions}!rc\+\_\+controls.\+c@{rc\+\_\+controls.\+c}}
\subsubsection[{process\+Rc\+Stick\+Positions}]{\setlength{\rightskip}{0pt plus 5cm}void process\+Rc\+Stick\+Positions (
\begin{DoxyParamCaption}
\item[{{\bf rx\+Config\+\_\+t} $\ast$}]{rx\+Config, }
\item[{{\bf throttle\+Status\+\_\+e}}]{throttle\+Status, }
\item[{bool}]{retarded\+\_\+arm, }
\item[{bool}]{disarm\+\_\+kill\+\_\+switch}
\end{DoxyParamCaption}
)}}\label{rc__controls_8c_a72196cac8e9754b00cad951ed5974a68}
\hypertarget{rc__controls_8c_a1ad79b9c82a8297322f7f89025d1a72c}{\index{rc\+\_\+controls.\+c@{rc\+\_\+controls.\+c}!rc\+Mode\+Is\+Activation\+Condition\+Present@{rc\+Mode\+Is\+Activation\+Condition\+Present}}
\index{rc\+Mode\+Is\+Activation\+Condition\+Present@{rc\+Mode\+Is\+Activation\+Condition\+Present}!rc\+\_\+controls.\+c@{rc\+\_\+controls.\+c}}
\subsubsection[{rc\+Mode\+Is\+Activation\+Condition\+Present}]{\setlength{\rightskip}{0pt plus 5cm}bool rc\+Mode\+Is\+Activation\+Condition\+Present (
\begin{DoxyParamCaption}
\item[{{\bf mode\+Activation\+Condition\+\_\+t} $\ast$}]{mode\+Activation\+Conditions, }
\item[{{\bf box\+Id\+\_\+e}}]{mode\+Id}
\end{DoxyParamCaption}
)}}\label{rc__controls_8c_a1ad79b9c82a8297322f7f89025d1a72c}
\hypertarget{rc__controls_8c_a21a62a38a0416325e5a9703c7535089c}{\index{rc\+\_\+controls.\+c@{rc\+\_\+controls.\+c}!rc\+Mode\+Is\+Active@{rc\+Mode\+Is\+Active}}
\index{rc\+Mode\+Is\+Active@{rc\+Mode\+Is\+Active}!rc\+\_\+controls.\+c@{rc\+\_\+controls.\+c}}
\subsubsection[{rc\+Mode\+Is\+Active}]{\setlength{\rightskip}{0pt plus 5cm}bool rc\+Mode\+Is\+Active (
\begin{DoxyParamCaption}
\item[{{\bf box\+Id\+\_\+e}}]{mode\+Id}
\end{DoxyParamCaption}
)}}\label{rc__controls_8c_a21a62a38a0416325e5a9703c7535089c}
\hypertarget{rc__controls_8c_ac533aab7edefe7a198ac5138c3b75cb1}{\index{rc\+\_\+controls.\+c@{rc\+\_\+controls.\+c}!rc\+Mode\+Update\+Activated@{rc\+Mode\+Update\+Activated}}
\index{rc\+Mode\+Update\+Activated@{rc\+Mode\+Update\+Activated}!rc\+\_\+controls.\+c@{rc\+\_\+controls.\+c}}
\subsubsection[{rc\+Mode\+Update\+Activated}]{\setlength{\rightskip}{0pt plus 5cm}void rc\+Mode\+Update\+Activated (
\begin{DoxyParamCaption}
\item[{{\bf mode\+Activation\+Condition\+\_\+t} $\ast$}]{mode\+Activation\+Conditions}
\end{DoxyParamCaption}
)}}\label{rc__controls_8c_ac533aab7edefe7a198ac5138c3b75cb1}
\hypertarget{rc__controls_8c_a9d7c82cd2f130ba946446a3421ab2604}{\index{rc\+\_\+controls.\+c@{rc\+\_\+controls.\+c}!use\+Rc\+Controls\+Config@{use\+Rc\+Controls\+Config}}
\index{use\+Rc\+Controls\+Config@{use\+Rc\+Controls\+Config}!rc\+\_\+controls.\+c@{rc\+\_\+controls.\+c}}
\subsubsection[{use\+Rc\+Controls\+Config}]{\setlength{\rightskip}{0pt plus 5cm}void use\+Rc\+Controls\+Config (
\begin{DoxyParamCaption}
\item[{{\bf mode\+Activation\+Condition\+\_\+t} $\ast$}]{mode\+Activation\+Conditions}
\end{DoxyParamCaption}
)}}\label{rc__controls_8c_a9d7c82cd2f130ba946446a3421ab2604}


\subsection{Variable Documentation}
\hypertarget{rc__controls_8c_a9a0c78dfc7223feffbdd4f1d4f0f5b62}{\index{rc\+\_\+controls.\+c@{rc\+\_\+controls.\+c}!rc\+Command@{rc\+Command}}
\index{rc\+Command@{rc\+Command}!rc\+\_\+controls.\+c@{rc\+\_\+controls.\+c}}
\subsubsection[{rc\+Command}]{\setlength{\rightskip}{0pt plus 5cm}int16\+\_\+t rc\+Command\mbox{[}4\mbox{]}}}\label{rc__controls_8c_a9a0c78dfc7223feffbdd4f1d4f0f5b62}
\hypertarget{rc__controls_8c_af77590ad2c015dff5422b5982c636c85}{\index{rc\+\_\+controls.\+c@{rc\+\_\+controls.\+c}!rc\+Mode\+Activation\+Mask@{rc\+Mode\+Activation\+Mask}}
\index{rc\+Mode\+Activation\+Mask@{rc\+Mode\+Activation\+Mask}!rc\+\_\+controls.\+c@{rc\+\_\+controls.\+c}}
\subsubsection[{rc\+Mode\+Activation\+Mask}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t rc\+Mode\+Activation\+Mask}}\label{rc__controls_8c_af77590ad2c015dff5422b5982c636c85}
